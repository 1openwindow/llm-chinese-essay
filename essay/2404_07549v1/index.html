<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective</title>
<!--Generated on Thu Apr 11 08:25:49 2024 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="resource/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="resource/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css"/>
<link href="resource/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="resource/bootstrap.bundle.min.js"></script>
<script src="resource/html2canvas.min.js"></script>
<script src="resource/addons.js"></script>
<script src="resource/feedbackOverlay.js"></script>
</head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S1" title="1 Introduction ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S2" title="2 Preliminary Analysis: Token-level Loss of Comment Related Code Styles ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Preliminary Analysis: Token-level Loss of Comment Related Code Styles</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S3" title="3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>MANGO</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS1" title="3.1 Backgound: Supervised Fine-tuning on Code Generation Tasks ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Backgound: Supervised Fine-tuning on Code Generation Tasks</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS2" title="3.2 Comment Contrastive Learning ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Comment Contrastive Learning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS3" title="3.3 LCP: Logical Comment Prompt ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>LCP: Logical Comment Prompt</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S4" title="4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments and Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S4.SS1" title="4.1 Trainning Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Trainning Settings</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS1.SSS0.Px1" title="SFT (Supervised Fine-Tuning) ‣ 4.1 Trainning Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">SFT (Supervised Fine-Tuning)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS1.SSS0.Px2" title="CoT (Chain-of-Thought) ‣ 4.1 Trainning Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">CoT (Chain-of-Thought)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS1.SSS0.Px3" title="LCP (Logical Comment Prompt) ‣ 4.1 Trainning Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">LCP (Logical Comment Prompt)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS1.SSS0.Px4" title="MANGO ‣ 4.1 Trainning Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">MANGO</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS1.SSS0.Px5" title="Decoding Settings ‣ 4.1 Trainning Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">Decoding Settings</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S4.SS2" title="4.2 Evaluation Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Evaluation Settings</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS2.SSS0.Px1" title="Evaluate Metrics ‣ 4.2 Evaluation Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">Evaluate Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS2.SSS0.Px2" title="HumanEval ‣ 4.2 Evaluation Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">HumanEval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS2.SSS0.Px3" title="MBPP ‣ 4.2 Evaluation Settings ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">MBPP</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS3" title="4.3 Main Result ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Main Result</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS4" title="4.4 Ablation Study on the Training Method ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Ablation Study on the Training Method</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS5" title="4.5 The Effect of Margin ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>The Effect of Margin</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S5" title="5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S5.SS1" title="5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>The Robustness Study Against LCP and CoT</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S5.SS2" title="5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Statistical Features of Generated Codes</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S5.SS3" title="5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>The Relationship Between CoT and Contrastive Comment Loss</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S5.SS4" title="5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Error Distribution</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S6" title="6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S6.SS1" title="6.1 Code LLMs and Logical Reasoning ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Code LLMs and Logical Reasoning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S6.SS2" title="6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Prompting-based Code Generation Strategy</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S7" title="7 Conclusion ‣ 6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="#A1" title="Appendix A The Detail of Variant Prompts ‣ 7 Conclusion ‣ 6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>The Detail of Variant Prompts</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="#A2" title="Appendix B Case Study ‣ 7 Conclusion ‣ 6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Case Study</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#A2.SS0.SSS0.Px1" title="Origin Prompt result [Failed] ‣ Appendix B Case Study ‣ 7 Conclusion ‣ 6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">Origin Prompt result <span class="ltx_text" style="color:#FF0000;">[Failed]</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#A2.SS0.SSS0.Px2" title="CoT result [Failed] ‣ Appendix B Case Study ‣ 7 Conclusion ‣ 6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">CoT result <span class="ltx_text" style="color:#FF0000;">[Failed]</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#A2.SS0.SSS0.Px3" title="LCP result [Passed] ‣ Appendix B Case Study ‣ 7 Conclusion ‣ 6.2 Prompting-based Code Generation Strategy ‣ 6 Related Work ‣ 5.4 Error Distribution ‣ 5.3 The Relationship Between CoT and Contrastive Comment Loss ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_title">LCP result <span class="ltx_text" style="color:#00FF00;">[Passed]</span></span></a></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<div class="section" id="target-section"><div id="license-tr">License: arXiv.org perpetual non-exclusive license</div><div id="watermark-tr">arXiv:2404.07549v1 [cs.CL] 11 Apr 2024</div></div>
<script>
            function closePopup() {
                document.querySelector('.package-alerts').style.display = 'none';
            }
        </script>
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">注释作为自然逻辑的中心：通过注释视角改进代码生成</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yijie Chen<math alttext="{}^{1}" class="ltx_Math" display="inline" id="id1.1.m1.1"><semantics id="id1.1.m1.1a"><msup id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml"><mi id="id1.1.m1.1.1a" xref="id1.1.m1.1.1.cmml"></mi><mn id="id1.1.m1.1.1.1" xref="id1.1.m1.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><apply id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1"><cn id="id1.1.m1.1.1.1.cmml" type="integer" xref="id1.1.m1.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id1.1.m1.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Yijin Liu<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id2.2.m2.1"><semantics id="id2.2.m2.1a"><msup id="id2.2.m2.1.1" xref="id2.2.m2.1.1.cmml"><mi id="id2.2.m2.1.1a" xref="id2.2.m2.1.1.cmml"></mi><mn id="id2.2.m2.1.1.1" xref="id2.2.m2.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id2.2.m2.1b"><apply id="id2.2.m2.1.1.cmml" xref="id2.2.m2.1.1"><cn id="id2.2.m2.1.1.1.cmml" type="integer" xref="id2.2.m2.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id2.2.m2.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id2.2.m2.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Fandong Meng<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id3.3.m3.1"><semantics id="id3.3.m3.1a"><msup id="id3.3.m3.1.1" xref="id3.3.m3.1.1.cmml"><mi id="id3.3.m3.1.1a" xref="id3.3.m3.1.1.cmml"></mi><mn id="id3.3.m3.1.1.1" xref="id3.3.m3.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id3.3.m3.1b"><apply id="id3.3.m3.1.1.cmml" xref="id3.3.m3.1.1"><cn id="id3.3.m3.1.1.1.cmml" type="integer" xref="id3.3.m3.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id3.3.m3.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id3.3.m3.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Yufeng Chen<math alttext="{}^{1}" class="ltx_Math" display="inline" id="id4.4.m4.1"><semantics id="id4.4.m4.1a"><msup id="id4.4.m4.1.1" xref="id4.4.m4.1.1.cmml"><mi id="id4.4.m4.1.1a" xref="id4.4.m4.1.1.cmml"></mi><mn id="id4.4.m4.1.1.1" xref="id4.4.m4.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id4.4.m4.1b"><apply id="id4.4.m4.1.1.cmml" xref="id4.4.m4.1.1"><cn id="id4.4.m4.1.1.1.cmml" type="integer" xref="id4.4.m4.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id4.4.m4.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id4.4.m4.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Jinan Xu<math alttext="{}^{1}" class="ltx_Math" display="inline" id="id5.5.m5.1"><semantics id="id5.5.m5.1a"><msup id="id5.5.m5.1.1" xref="id5.5.m5.1.1.cmml"><mi id="id5.5.m5.1.1a" xref="id5.5.m5.1.1.cmml"></mi><mn id="id5.5.m5.1.1.1" xref="id5.5.m5.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id5.5.m5.1b"><apply id="id5.5.m5.1.1.cmml" xref="id5.5.m5.1.1"><cn id="id5.5.m5.1.1.1.cmml" type="integer" xref="id5.5.m5.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id5.5.m5.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id5.5.m5.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Jie Zhou<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id6.6.m6.1"><semantics id="id6.6.m6.1a"><msup id="id6.6.m6.1.1" xref="id6.6.m6.1.1.cmml"><mi id="id6.6.m6.1.1a" xref="id6.6.m6.1.1.cmml"></mi><mn id="id6.6.m6.1.1.1" xref="id6.6.m6.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id6.6.m6.1b"><apply id="id6.6.m6.1.1.cmml" xref="id6.6.m6.1.1"><cn id="id6.6.m6.1.1.1.cmml" type="integer" xref="id6.6.m6.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id6.6.m6.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id6.6.m6.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>
<br class="ltx_break"/><math alttext="{}^{1}" class="ltx_Math" display="inline" id="id7.7.m7.1"><semantics id="id7.7.m7.1a"><msup id="id7.7.m7.1.1" xref="id7.7.m7.1.1.cmml"><mi id="id7.7.m7.1.1a" xref="id7.7.m7.1.1.cmml"></mi><mn id="id7.7.m7.1.1.1" xref="id7.7.m7.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id7.7.m7.1b"><apply id="id7.7.m7.1.1.cmml" xref="id7.7.m7.1.1"><cn id="id7.7.m7.1.1.1.cmml" type="integer" xref="id7.7.m7.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id7.7.m7.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id7.7.m7.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math>Beijing Jiaotong University, Beijing, China
<br class="ltx_break"/><math alttext="{}^{2}" class="ltx_Math" display="inline" id="id8.8.m8.1"><semantics id="id8.8.m8.1a"><msup id="id8.8.m8.1.1" xref="id8.8.m8.1.1.cmml"><mi id="id8.8.m8.1.1a" xref="id8.8.m8.1.1.cmml"></mi><mn id="id8.8.m8.1.1.1" xref="id8.8.m8.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id8.8.m8.1b"><apply id="id8.8.m8.1.1.cmml" xref="id8.8.m8.1.1"><cn id="id8.8.m8.1.1.1.cmml" type="integer" xref="id8.8.m8.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id8.8.m8.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id8.8.m8.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>Pattern Recognition Center, WeChat AI, Tencent Inc, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id9.9.id1">{22120354, chenyf, jaxu}@bjtu.edu.cn
<br class="ltx_break"/>{yijinliu, fandongmeng, withtomzhou}@tencent.com</span>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">摘要</h6>
<p class="ltx_p" id="id10.id1">代码生成旨在理解问题描述并生成相应的代码片段，现有工作通常通过提示策略（如思维链和其变体）将这些复杂任务分解为中间步骤。虽然这些研究取得了一定的成功，但它们的有效性在很大程度上取决于先进的大型语言模型（LLMs）（如GPT-4），特别是在API调用方面，这显著限制了它们的实际适用性。因此，如何增强小型和中等规模代码LLMs的代码生成能力而不显著增加培训成本是一个吸引人的挑战。在本文中，我们建议代码注释是自然语言和代码语言之间的逻辑枢纽，并提出使用注释来增强代码LLMs的代码生成能力。具体而言，我们提出了MANGO（作为自然逻辑枢纽的注释），包括注释对比训练策略和相应的逻辑注释解码策略。在HumanEval和MBPP上进行了实验，利用StarCoder和WizardCoder作为骨干模型，涵盖了3B到7B之间的模型参数大小。结果表明，MANGO显著提高了基于强基线的代码通过率。与此同时，逻辑注释解码策略的鲁棒性明显高于思维链提示。该代码可在<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/pppa2019/Mango" title="">https://github.com/pppa2019/Mango</a>上公开获取。</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<p class="ltx_p ltx_align_center ltx_align_bottom" id="p1.1"><span class="ltx_text ltx_font_bold" id="p1.1.1">注释作为自然逻辑的中心：通过注释视角改善代码生成</span></p>
</div>
<div class="ltx_para" id="p2">
<br class="ltx_break"/>
<p class="ltx_p" id="p2.8"><span class="ltx_text" id="p2.8.8" style="width:433.6pt;"><span class="ltx_text" id="p2.8.8.8" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p2.8.8.8.8">
<span class="ltx_tbody">
<span class="ltx_tr" id="p2.6.6.6.6.6">
<span class="ltx_td ltx_align_center" id="p2.6.6.6.6.6.6"><span class="ltx_text ltx_font_bold" id="p2.6.6.6.6.6.6.6">陈一杰&lt;PLACEHOLDER_0/&gt;, 刘一津&lt;PLACEHOLDER_1/&gt;, 孟凡东&lt;PLACEHOLDER_2/&gt;, 陈宇峰&lt;PLACEHOLDER_3/&gt;, 徐济南&lt;PLACEHOLDER_4/&gt;, 周杰&lt;PLACEHOLDER_5/&gt;</span></span></span>
<span class="ltx_tr" id="p2.7.7.7.7.7">
<span class="ltx_td ltx_align_center" id="p2.7.7.7.7.7.1">&lt;PLACEHOLDER_6/&gt;中国北京交通大学</span></span>
<span class="ltx_tr" id="p2.8.8.8.8.8">
<span class="ltx_td ltx_align_center" id="p2.8.8.8.8.8.1">&lt;PLACEHOLDER_7/&gt;腾讯公司微信人工智能模式识别中心</span></span>
<span class="ltx_tr" id="p2.8.8.8.8.9.1">
<span class="ltx_td ltx_align_center" id="p2.8.8.8.8.9.1.1"><span class="ltx_text ltx_font_typewriter" id="p2.8.8.8.8.9.1.1.1">{22120354, chenyf, jaxu}@bjtu.edu.cn</span></span></span>
<span class="ltx_tr" id="p2.8.8.8.8.10.2">
<span class="ltx_td ltx_align_center" id="p2.8.8.8.8.10.2.1"><span class="ltx_text ltx_font_typewriter" id="p2.8.8.8.8.10.2.1.1">{yijinliu, fandongmeng, withtomzhou}@tencent.com</span></span></span>
</span>
</span></span> </span></p>
</div>
<figure class="ltx_figure" id="S0.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="847" id="S0.F1.g1" src="resource/x1.png" width="663"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">图1：</span>代码LLMs中代码注释功能的示意图。注释有助于分解与问题描述相对应的中间步骤，并形成与相邻代码行对齐的结构。</figcaption>
</figure>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">1 </span>介绍</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">最近，针对预训练的大型语言模型（Code LLMs）的技术正在迅速发展<cite class="ltx_cite ltx_citemacro_cite">Zhao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib21" title="">2023</a>)</cite>并在各种与代码相关的任务上表现良好<cite class="ltx_cite ltx_citemacro_cite">Roziere et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib15" title="">2023</a>); Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib5" title="">2021</a>)</cite>。代码生成是通过提示方法为给定的自然语言描述和可选的额外信息（<span class="ltx_text ltx_font_italic" id="S1.p1.1.1">例如</span>，数据类型、函数名称和单元测试示例）生成代码片段。此外，自然语言描述通常包含复杂逻辑，使得直接提示难以解决困难问题。通过“思维链”提示策略将复杂问题分解为更容易的中间步骤在一般复杂任务中表现出有希望的性能。对于代码生成，后续工作将规划和代码合成过程分为两个阶段，使用单任务少样本提示<cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib7" title="">2023</a>)</cite>或使用树结构的中间步骤<cite class="ltx_cite ltx_citemacro_cite">Zelikman et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib20" title="">2023</a>)</cite>。此外，使用代码结构信息约束中间步骤也可以进一步提高编码能力<cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib9" title="">2023a</a>)</cite>。然而，任务分解和规划是高级和复杂的任务，这取决于LLMs的最先进能力<cite class="ltx_cite ltx_citemacro_cite">Zelikman et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib20" title="">2023</a>)</cite>。因此，有效增强小到中型LLMs的代码生成提出了一个引人注目且具有挑战性的问题。</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">为了解决上述问题，我们首次提出代码注释作为自然语言和编程语言之间固有逻辑枢纽的想法。通常，代码中的注释通常是代码语料库的一部分。因此，在预训练阶段，在代码语料库上的训练赋予了预训练的代码模型理解和生成代码注释的相应能力。如图1所示，代码注释可以使用自然语言分解问题描述，每个注释行与相邻的代码行建立了对齐。因此，我们假设鼓励模型生成注释可以轻松有效地连接代码和复杂的问题描述。为了测试我们的假设，我们讨论了中间步骤的可能插入位置，并使用交叉熵损失来评估各种插入样式代码的难度。根据统计结果，我们发现注释样式的代码对于各种代码模型来说是最容易的，这为假设提供了证据。基于上述假设，我们提出了用于通过注释分解问题描述进行代码生成的注释作为自然逻辑枢纽（MANGO）。MANGO包括逻辑注释解码策略和注释对比学习损失。具体来说，在训练阶段，我们使用开源数据集中带有注释的代码数据生成没有注释的负样本，以加强模型对带有注释的代码的偏好。在解码阶段，采用逻辑注释解码策略来引导模型通过内联注释解释代码逻辑。</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">我们使用来自3B到7B的三个主干模型在HumanEval和MBPP测试集上进行实验。实验结果表明，MANGO持续提高了通过率，例如，在HumanEval上StarCoder-7B的pass@10最高达到7.52，在MBPP上WizardCoder-7B的pass@10最高达到4.17。我们的消融研究表明，该方法的每个组成部分都对模型的性能有积极贡献，并且该方法对超参数和各种逻辑注释提示样式具有鲁棒性。此外，MANGO在小型模型上保持一致的有效性（例如，在3B和7B上pass@10的改进最高分别为3.87和4.07），而CoT提示可能会导致严重下降，特别是在3B模型中。还提供了错误分布和代码特征数据统计，以进行细粒度分析。</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">总之，我们的贡献如下：<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>我们上传了代码作为审阅的支持材料，并将在出版后在Github上发布。</span></span></span></p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">我们首先提出注释是连接自然语言和编程语言的枢纽，并对比不同插入分解步骤位置的复杂问题描述的难度进行分析。据我们所知，这是第一项全面探索代码注释在编程问题分解中显著优势的工作。</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">我们提出了MANGO，其中包括对比训练方法和注释提示策略。 MANGO通过加强对带有注释的代码的偏好并鼓励模型使用注释来提高模型的代码生成能力。</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">CoT提示策略与我们的方法之间的比较表明，在小型和中型模型尺寸上，代码注释的有效性。我们分别对CoT和逻辑注释提示策略进行了鲁棒性评估，发现与CoT提示相比，LCP在标准偏差较小的情况下表现更好。</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">2 </span>初步分析：注释相关代码风格的令牌级损失</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.7">将困难问题分解为更容易的中间步骤有利于LLM的代码生成能力，在许多现有作品中，尤其是基于API的闭源模型。然而，大多数任务分解方法只能在像GPT-4这样的最先进模型上运行，并且它们对于小型或中型开源模型的适用性有限。因此，我们假设降低分解方法的困难度可以有利于降低模型能力的要求，使用注释是可能的方法之一。我们定义了带有注释解释的代码的可能样式，并量化了它们在零热启动设置中对模型的困难程度。首先，我们利用WizardCoder-3B和WizardCoder-7B作为骨干模型，以及开源代码生成指令调整数据集CodeM作为评估数据集。我们筛选了带有注释的数据，提取了注释行，并将其转换为思维链。然后，给定一个任务分解步骤为<math alttext="T_{i}" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><msub id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml"><mi id="S2.p1.1.m1.1.1.2" xref="S2.p1.1.m1.1.1.2.cmml">T</mi><mi id="S2.p1.1.m1.1.1.3" xref="S2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><apply id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p1.1.m1.1.1.1.cmml" xref="S2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.p1.1.m1.1.1.2.cmml" xref="S2.p1.1.m1.1.1.2">𝑇</ci><ci id="S2.p1.1.m1.1.1.3.cmml" xref="S2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">T_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_T start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>，相应的代码块为<math alttext="C_{i}" class="ltx_Math" display="inline" id="S2.p1.2.m2.1"><semantics id="S2.p1.2.m2.1a"><msub id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml"><mi id="S2.p1.2.m2.1.1.2" xref="S2.p1.2.m2.1.1.2.cmml">C</mi><mi id="S2.p1.2.m2.1.1.3" xref="S2.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><apply id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.p1.2.m2.1.1.1.cmml" xref="S2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.p1.2.m2.1.1.2.cmml" xref="S2.p1.2.m2.1.1.2">𝐶</ci><ci id="S2.p1.2.m2.1.1.3.cmml" xref="S2.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">C_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.2.m2.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>（其中<math alttext="1\leq i\leq n" class="ltx_Math" display="inline" id="S2.p1.3.m3.1"><semantics id="S2.p1.3.m3.1a"><mrow id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml"><mn id="S2.p1.3.m3.1.1.2" xref="S2.p1.3.m3.1.1.2.cmml">1</mn><mo id="S2.p1.3.m3.1.1.3" xref="S2.p1.3.m3.1.1.3.cmml">≤</mo><mi id="S2.p1.3.m3.1.1.4" xref="S2.p1.3.m3.1.1.4.cmml">i</mi><mo id="S2.p1.3.m3.1.1.5" xref="S2.p1.3.m3.1.1.5.cmml">≤</mo><mi id="S2.p1.3.m3.1.1.6" xref="S2.p1.3.m3.1.1.6.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><apply id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1"><and id="S2.p1.3.m3.1.1a.cmml" xref="S2.p1.3.m3.1.1"></and><apply id="S2.p1.3.m3.1.1b.cmml" xref="S2.p1.3.m3.1.1"><leq id="S2.p1.3.m3.1.1.3.cmml" xref="S2.p1.3.m3.1.1.3"></leq><cn id="S2.p1.3.m3.1.1.2.cmml" type="integer" xref="S2.p1.3.m3.1.1.2">1</cn><ci id="S2.p1.3.m3.1.1.4.cmml" xref="S2.p1.3.m3.1.1.4">𝑖</ci></apply><apply id="S2.p1.3.m3.1.1c.cmml" xref="S2.p1.3.m3.1.1"><leq id="S2.p1.3.m3.1.1.5.cmml" xref="S2.p1.3.m3.1.1.5"></leq><share href="#S2.p1.3.m3.1.1.4.cmml" id="S2.p1.3.m3.1.1d.cmml" xref="S2.p1.3.m3.1.1"></share><ci id="S2.p1.3.m3.1.1.6.cmml" xref="S2.p1.3.m3.1.1.6">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">1\leq i\leq n</annotation><annotation encoding="application/x-llamapun" id="S2.p1.3.m3.1d">1 ≤ italic_i ≤ italic_n</annotation></semantics></math>和<math alttext="n" class="ltx_Math" display="inline" id="S2.p1.4.m4.1"><semantics id="S2.p1.4.m4.1a"><mi id="S2.p1.4.m4.1.1" xref="S2.p1.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.1b"><ci id="S2.p1.4.m4.1.1.cmml" xref="S2.p1.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p1.4.m4.1d">italic_n</annotation></semantics></math>是代码块编号），我们构建了三种类型的代码，包括具有前导思维链的代码（CoT-pre，可以表示为<math alttext="\{T_{1},...,T_{n},C_{1},...,C_{n}\}" class="ltx_Math" display="inline" id="S2.p1.5.m5.6"><semantics id="S2.p1.5.m5.6a"><mrow id="S2.p1.5.m5.6.6.4" xref="S2.p1.5.m5.6.6.5.cmml"><mo id="S2.p1.5.m5.6.6.4.5" stretchy="false" xref="S2.p1.5.m5.6.6.5.cmml">{</mo><msub id="S2.p1.5.m5.3.3.1.1" xref="S2.p1.5.m5.3.3.1.1.cmml"><mi id="S2.p1.5.m5.3.3.1.1.2" xref="S2.p1.5.m5.3.3.1.1.2.cmml">T</mi><mn id="S2.p1.5.m5.3.3.1.1.3" xref="S2.p1.5.m5.3.3.1.1.3.cmml">1</mn></msub><mo id="S2.p1.5.m5.6.6.4.6" xref="S2.p1.5.m5.6.6.5.cmml">,</mo><mi id="S2.p1.5.m5.1.1" mathvariant="normal" xref="S2.p1.5.m5.1.1.cmml">…</mi><mo id="S2.p1.5.m5.6.6.4.7" xref="S2.p1.5.m5.6.6.5.cmml">,</mo><msub id="S2.p1.5.m5.4.4.2.2" xref="S2.p1.5.m5.4.4.2.2.cmml"><mi id="S2.p1.5.m5.4.4.2.2.2" xref="S2.p1.5.m5.4.4.2.2.2.cmml">T</mi><mi id="S2.p1.5.m5.4.4.2.2.3" xref="S2.p1.5.m5.4.4.2.2.3.cmml">n</mi></msub><mo id="S2.p1.5.m5.6.6.4.8" xref="S2.p1.5.m5.6.6.5.cmml">,</mo><msub id="S2.p1.5.m5.5.5.3.3" xref="S2.p1.5.m5.5.5.3.3.cmml"><mi id="S2.p1.5.m5.5.5.3.3.2" xref="S2.p1.5.m5.5.5.3.3.2.cmml">C</mi><mn id="S2.p1.5.m5.5.5.3.3.3" xref="S2.p1.5.m5.5.5.3.3.3.cmml">1</mn></msub><mo id="S2.p1.5.m5.6.6.4.9" xref="S2.p1.5.m5.6.6.5.cmml">,</mo><mi id="S2.p1.5.m5.2.2" mathvariant="normal" xref="S2.p1.5.m5.2.2.cmml">…</mi><mo id="S2.p1.5.m5.6.6.4.10" xref="S2.p1.5.m5.6.6.5.cmml">,</mo><msub id="S2.p1.5.m5.6.6.4.4" xref="S2.p1.5.m5.6.6.4.4.cmml"><mi id="S2.p1.5.m5.6.6.4.4.2" xref="S2.p1.5.m5.6.6.4.4.2.cmml">C</mi><mi id="S2.p1.5.m5.6.6.4.4.3" xref="S2.p1.5.m5.6.6.4.4.3.cmml">n</mi></msub><mo id="S2.p1.5.m5.6.6.4.11" stretchy="false" xref="S2.p1.5.m5.6.6.5.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.6b"><set id="S2.p1.5.m5.6.6.5.cmml" xref="S2.p1.5.m5.6.6.4"><apply id="S2.p1.5.m5.3.3.1.1.cmml" xref="S2.p1.5.m5.3.3.1.1"><csymbol cd="ambiguous" id="S2.p1.5.m5.3.3.1.1.1.cmml" xref="S2.p1.5.m5.3.3.1.1">subscript</csymbol><ci id="S2.p1.5.m5.3.3.1.1.2.cmml" xref="S2.p1.5.m5.3.3.1.1.2">𝑇</ci><cn id="S2.p1.5.m5.3.3.1.1.3.cmml" type="integer" xref="S2.p1.5.m5.3.3.1.1.3">1</cn></apply><ci id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1">…</ci><apply id="S2.p1.5.m5.4.4.2.2.cmml" xref="S2.p1.5.m5.4.4.2.2"><csymbol cd="ambiguous" id="S2.p1.5.m5.4.4.2.2.1.cmml" xref="S2.p1.5.m5.4.4.2.2">subscript</csymbol><ci id="S2.p1.5.m5.4.4.2.2.2.cmml" xref="S2.p1.5.m5.4.4.2.2.2">𝑇</ci><ci id="S2.p1.5.m5.4.4.2.2.3.cmml" xref="S2.p1.5.m5.4.4.2.2.3">𝑛</ci></apply><apply id="S2.p1.5.m5.5.5.3.3.cmml" xref="S2.p1.5.m5.5.5.3.3"><csymbol cd="ambiguous" id="S2.p1.5.m5.5.5.3.3.1.cmml" xref="S2.p1.5.m5.5.5.3.3">subscript</csymbol><ci id="S2.p1.5.m5.5.5.3.3.2.cmml" xref="S2.p1.5.m5.5.5.3.3.2">𝐶</ci><cn id="S2.p1.5.m5.5.5.3.3.3.cmml" type="integer" xref="S2.p1.5.m5.5.5.3.3.3">1</cn></apply><ci id="S2.p1.5.m5.2.2.cmml" xref="S2.p1.5.m5.2.2">…</ci><apply id="S2.p1.5.m5.6.6.4.4.cmml" xref="S2.p1.5.m5.6.6.4.4"><csymbol cd="ambiguous" id="S2.p1.5.m5.6.6.4.4.1.cmml" xref="S2.p1.5.m5.6.6.4.4">subscript</csymbol><ci id="S2.p1.5.m5.6.6.4.4.2.cmml" xref="S2.p1.5.m5.6.6.4.4.2">𝐶</ci><ci id="S2.p1.5.m5.6.6.4.4.3.cmml" xref="S2.p1.5.m5.6.6.4.4.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.6c">\{T_{1},...,T_{n},C_{1},...,C_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.5.m5.6d">{ italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_C start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_C start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>），后续思维链（CoT-post，可以表示为<math alttext="\{C_{1},...,C_{n},T_{1},...,T_{n}\}" class="ltx_Math" display="inline" id="S2.p1.6.m6.6"><semantics id="S2.p1.6.m6.6a"><mrow id="S2.p1.6.m6.6.6.4" xref="S2.p1.6.m6.6.6.5.cmml"><mo id="S2.p1.6.m6.6.6.4.5" stretchy="false" xref="S2.p1.6.m6.6.6.5.cmml">{</mo><msub id="S2.p1.6.m6.3.3.1.1" xref="S2.p1.6.m6.3.3.1.1.cmml"><mi id="S2.p1.6.m6.3.3.1.1.2" xref="S2.p1.6.m6.3.3.1.1.2.cmml">C</mi><mn id="S2.p1.6.m6.3.3.1.1.3" xref="S2.p1.6.m6.3.3.1.1.3.cmml">1</mn></msub><mo id="S2.p1.6.m6.6.6.4.6" xref="S2.p1.6.m6.6.6.5.cmml">,</mo><mi id="S2.p1.6.m6.1.1" mathvariant="normal" xref="S2.p1.6.m6.1.1.cmml">…</mi><mo id="S2.p1.6.m6.6.6.4.7" xref="S2.p1.6.m6.6.6.5.cmml">,</mo><msub id="S2.p1.6.m6.4.4.2.2" xref="S2.p1.6.m6.4.4.2.2.cmml"><mi id="S2.p1.6.m6.4.4.2.2.2" xref="S2.p1.6.m6.4.4.2.2.2.cmml">C</mi><mi id="S2.p1.6.m6.4.4.2.2.3" xref="S2.p1.6.m6.4.4.2.2.3.cmml">n</mi></msub><mo id="S2.p1.6.m6.6.6.4.8" xref="S2.p1.6.m6.6.6.5.cmml">,</mo><msub id="S2.p1.6.m6.5.5.3.3" xref="S2.p1.6.m6.5.5.3.3.cmml"><mi id="S2.p1.6.m6.5.5.3.3.2" xref="S2.p1.6.m6.5.5.3.3.2.cmml">T</mi><mn id="S2.p1.6.m6.5.5.3.3.3" xref="S2.p1.6.m6.5.5.3.3.3.cmml">1</mn></msub><mo id="S2.p1.6.m6.6.6.4.9" xref="S2.p1.6.m6.6.6.5.cmml">,</mo><mi id="S2.p1.6.m6.2.2" mathvariant="normal" xref="S2.p1.6.m6.2.2.cmml">…</mi><mo id="S2.p1.6.m6.6.6.4.10" xref="S2.p1.6.m6.6.6.5.cmml">,</mo><msub id="S2.p1.6.m6.6.6.4.4" xref="S2.p1.6.m6.6.6.4.4.cmml"><mi id="S2.p1.6.m6.6.6.4.4.2" xref="S2.p1.6.m6.6.6.4.4.2.cmml">T</mi><mi id="S2.p1.6.m6.6.6.4.4.3" xref="S2.p1.6.m6.6.6.4.4.3.cmml">n</mi></msub><mo id="S2.p1.6.m6.6.6.4.11" stretchy="false" xref="S2.p1.6.m6.6.6.5.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.6b"><set id="S2.p1.6.m6.6.6.5.cmml" xref="S2.p1.6.m6.6.6.4"><apply id="S2.p1.6.m6.3.3.1.1.cmml" xref="S2.p1.6.m6.3.3.1.1"><csymbol cd="ambiguous" id="S2.p1.6.m6.3.3.1.1.1.cmml" xref="S2.p1.6.m6.3.3.1.1">subscript</csymbol><ci id="S2.p1.6.m6.3.3.1.1.2.cmml" xref="S2.p1.6.m6.3.3.1.1.2">𝐶</ci><cn id="S2.p1.6.m6.3.3.1.1.3.cmml" type="integer" xref="S2.p1.6.m6.3.3.1.1.3">1</cn></apply><ci id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1">…</ci><apply id="S2.p1.6.m6.4.4.2.2.cmml" xref="S2.p1.6.m6.4.4.2.2"><csymbol cd="ambiguous" id="S2.p1.6.m6.4.4.2.2.1.cmml" xref="S2.p1.6.m6.4.4.2.2">subscript</csymbol><ci id="S2.p1.6.m6.4.4.2.2.2.cmml" xref="S2.p1.6.m6.4.4.2.2.2">𝐶</ci><ci id="S2.p1.6.m6.4.4.2.2.3.cmml" xref="S2.p1.6.m6.4.4.2.2.3">𝑛</ci></apply><apply id="S2.p1.6.m6.5.5.3.3.cmml" xref="S2.p1.6.m6.5.5.3.3"><csymbol cd="ambiguous" id="S2.p1.6.m6.5.5.3.3.1.cmml" xref="S2.p1.6.m6.5.5.3.3">subscript</csymbol><ci id="S2.p1.6.m6.5.5.3.3.2.cmml" xref="S2.p1.6.m6.5.5.3.3.2">𝑇</ci><cn id="S2.p1.6.m6.5.5.3.3.3.cmml" type="integer" xref="S2.p1.6.m6.5.5.3.3.3">1</cn></apply><ci id="S2.p1.6.m6.2.2.cmml" xref="S2.p1.6.m6.2.2">…</ci><apply id="S2.p1.6.m6.6.6.4.4.cmml" xref="S2.p1.6.m6.6.6.4.4"><csymbol cd="ambiguous" id="S2.p1.6.m6.6.6.4.4.1.cmml" xref="S2.p1.6.m6.6.6.4.4">subscript</csymbol><ci id="S2.p1.6.m6.6.6.4.4.2.cmml" xref="S2.p1.6.m6.6.6.4.4.2">𝑇</ci><ci id="S2.p1.6.m6.6.6.4.4.3.cmml" xref="S2.p1.6.m6.6.6.4.4.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.6c">\{C_{1},...,C_{n},T_{1},...,T_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.6.m6.6d">{ italic_C start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_C start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>），以及内联注释（Comment，可以表示为<math alttext="\{T_{1},C_{1},...,T_{n},C_{n}\}" class="ltx_Math" display="inline" id="S2.p1.7.m7.5"><semantics id="S2.p1.7.m7.5a"><mrow id="S2.p1.7.m7.5.5.4" xref="S2.p1.7.m7.5.5.5.cmml"><mo id="S2.p1.7.m7.5.5.4.5" stretchy="false" xref="S2.p1.7.m7.5.5.5.cmml">{</mo><msub id="S2.p1.7.m7.2.2.1.1" xref="S2.p1.7.m7.2.2.1.1.cmml"><mi id="S2.p1.7.m7.2.2.1.1.2" xref="S2.p1.7.m7.2.2.1.1.2.cmml">T</mi><mn id="S2.p1.7.m7.2.2.1.1.3" xref="S2.p1.7.m7.2.2.1.1.3.cmml">1</mn></msub><mo id="S2.p1.7.m7.5.5.4.6" xref="S2.p1.7.m7.5.5.5.cmml">,</mo><msub id="S2.p1.7.m7.3.3.2.2" xref="S2.p1.7.m7.3.3.2.2.cmml"><mi id="S2.p1.7.m7.3.3.2.2.2" xref="S2.p1.7.m7.3.3.2.2.2.cmml">C</mi><mn id="S2.p1.7.m7.3.3.2.2.3" xref="S2.p1.7.m7.3.3.2.2.3.cmml">1</mn></msub><mo id="S2.p1.7.m7.5.5.4.7" xref="S2.p1.7.m7.5.5.5.cmml">,</mo><mi id="S2.p1.7.m7.1.1" mathvariant="normal" xref="S2.p1.7.m7.1.1.cmml">…</mi><mo id="S2.p1.7.m7.5.5.4.8" xref="S2.p1.7.m7.5.5.5.cmml">,</mo><msub id="S2.p1.7.m7.4.4.3.3" xref="S2.p1.7.m7.4.4.3.3.cmml"><mi id="S2.p1.7.m7.4.4.3.3.2" xref="S2.p1.7.m7.4.4.3.3.2.cmml">T</mi><mi id="S2.p1.7.m7.4.4.3.3.3" xref="S2.p1.7.m7.4.4.3.3.3.cmml">n</mi></msub><mo id="S2.p1.7.m7.5.5.4.9" xref="S2.p1.7.m7.5.5.5.cmml">,</mo><msub id="S2.p1.7.m7.5.5.4.4" xref="S2.p1.7.m7.5.5.4.4.cmml"><mi id="S2.p1.7.m7.5.5.4.4.2" xref="S2.p1.7.m7.5.5.4.4.2.cmml">C</mi><mi id="S2.p1.7.m7.5.5.4.4.3" xref="S2.p1.7.m7.5.5.4.4.3.cmml">n</mi></msub><mo id="S2.p1.7.m7.5.5.4.10" stretchy="false" xref="S2.p1.7.m7.5.5.5.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.5b"><set id="S2.p1.7.m7.5.5.5.cmml" xref="S2.p1.7.m7.5.5.4"><apply id="S2.p1.7.m7.2.2.1.1.cmml" xref="S2.p1.7.m7.2.2.1.1"><csymbol cd="ambiguous" id="S2.p1.7.m7.2.2.1.1.1.cmml" xref="S2.p1.7.m7.2.2.1.1">subscript</csymbol><ci id="S2.p1.7.m7.2.2.1.1.2.cmml" xref="S2.p1.7.m7.2.2.1.1.2">𝑇</ci><cn id="S2.p1.7.m7.2.2.1.1.3.cmml" type="integer" xref="S2.p1.7.m7.2.2.1.1.3">1</cn></apply><apply id="S2.p1.7.m7.3.3.2.2.cmml" xref="S2.p1.7.m7.3.3.2.2"><csymbol cd="ambiguous" id="S2.p1.7.m7.3.3.2.2.1.cmml" xref="S2.p1.7.m7.3.3.2.2">subscript</csymbol><ci id="S2.p1.7.m7.3.3.2.2.2.cmml" xref="S2.p1.7.m7.3.3.2.2.2">𝐶</ci><cn id="S2.p1.7.m7.3.3.2.2.3.cmml" type="integer" xref="S2.p1.7.m7.3.3.2.2.3">1</cn></apply><ci id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1">…</ci><apply id="S2.p1.7.m7.4.4.3.3.cmml" xref="S2.p1.7.m7.4.4.3.3"><csymbol cd="ambiguous" id="S2.p1.7.m7.4.4.3.3.1.cmml" xref="S2.p1.7.m7.4.4.3.3">subscript</csymbol><ci id="S2.p1.7.m7.4.4.3.3.2.cmml" xref="S2.p1.7.m7.4.4.3.3.2">𝑇</ci><ci id="S2.p1.7.m7.4.4.3.3.3.cmml" xref="S2.p1.7.m7.4.4.3.3.3">𝑛</ci></apply><apply id="S2.p1.7.m7.5.5.4.4.cmml" xref="S2.p1.7.m7.5.5.4.4"><csymbol cd="ambiguous" id="S2.p1.7.m7.5.5.4.4.1.cmml" xref="S2.p1.7.m7.5.5.4.4">subscript</csymbol><ci id="S2.p1.7.m7.5.5.4.4.2.cmml" xref="S2.p1.7.m7.5.5.4.4.2">𝐶</ci><ci id="S2.p1.7.m7.5.5.4.4.3.cmml" xref="S2.p1.7.m7.5.5.4.4.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.5c">\{T_{1},C_{1},...,T_{n},C_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.7.m7.5d">{ italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_C start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_C start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>）。转换后的CoT样式数据集包含与原始注释样式数据集相当的信息。使用标记级交叉熵损失，我们计算了不同大小模型中三个数据集的平均损失，包括3B和7B。如图<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S2.F2" title="Figure 2 ‣ 2 Preliminary Analysis: Token-level Loss of Comment Related Code Styles ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">2</span></a>所示，注释包含与最低难度等价的信息。我们分析了输出代码，并发现自然语言标记的损失分数通常高于编程语言标记的损失分数，这也在<cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib22" title="">2023</a>)</cite>中提到。然而，当自然语言的中间步骤被插入代码行作为注释时，它们的损失分数显然会降低。在表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S2.T1" title="Table 1 ‣ 2 Preliminary Analysis: Token-level Loss of Comment Related Code Styles ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">1</span></a>中，我们观察到注释损失明显低于不同的CoT数据，且在模型尺寸较小时，cot样式和注释样式之间的差距更大。上述观察结果支持我们的假设，即包含逻辑步骤的代码作为注释降低了模型的分解任务难度（尤其是对于较小的模型）。</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="622" id="S2.F2.g1" src="resource/x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">图2: </span>在WizardCoder3B模型中，一个代码问题示例的三种代码风格的标记级交叉熵损失，横坐标代表标记化代码的标记索引。</figcaption>
</figure>
<figure class="ltx_table" id="S2.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S2.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S2.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S2.T1.1.1.1.1">Code Type</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S2.T1.1.1.1.2">Wizardcoder 3b</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S2.T1.1.1.1.3">Wizardcoder 7b</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S2.T1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T1.1.2.1.1">CoT-pre</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.2.1.2">0.5318</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.2.1.3">0.4784</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T1.1.3.2.1">CoT-post</th>
<td class="ltx_td ltx_align_center" id="S2.T1.1.3.2.2">0.5606</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.3.2.3">0.5241</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S2.T1.1.4.3.1">Comment</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.4.3.2">0.3384</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S2.T1.1.4.3.3">0.3086</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表1： </span>三种不同代码风格的平均交叉熵损失：步骤列表前面的代码（CoT-pre）、步骤列表后面的代码（CoT-post）和内联注释。</figcaption>
</figure>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">3 </span>芒果</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">我们提出了一种简单而有效的方法MANGO，包括注释对比学习损失和逻辑注释提示。</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">3.1 </span>背景：在代码生成任务上进行监督微调</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.5">代码生成任务的输入通常包括自然语言描述和可选的编程上下文。我们将这样的输入表示为一个标记列表<math alttext="\mathbf{x}=\{x_{1},x_{2},\cdots,x_{n}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.4"><semantics id="S3.SS1.p1.1.m1.4a"><mrow id="S3.SS1.p1.1.m1.4.4" xref="S3.SS1.p1.1.m1.4.4.cmml"><mi id="S3.SS1.p1.1.m1.4.4.5" xref="S3.SS1.p1.1.m1.4.4.5.cmml">𝐱</mi><mo id="S3.SS1.p1.1.m1.4.4.4" xref="S3.SS1.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.4.4.3.3" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml"><mo id="S3.SS1.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.5" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.3.3.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.3.3.2.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml">x</mi><mn id="S3.SS1.p1.1.m1.3.3.2.2.2.3" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.6" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p1.1.m1.1.1.cmml">⋯</mi><mo id="S3.SS1.p1.1.m1.4.4.3.3.7" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.4.4.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.2" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml">x</mi><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.4b"><apply id="S3.SS1.p1.1.m1.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4"><eq id="S3.SS1.p1.1.m1.4.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4.4"></eq><ci id="S3.SS1.p1.1.m1.4.4.5.cmml" xref="S3.SS1.p1.1.m1.4.4.5">𝐱</ci><set id="S3.SS1.p1.1.m1.4.4.3.4.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3"><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2">𝑥</ci><cn id="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2">𝑥</ci><cn id="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">⋯</ci><apply id="S3.SS1.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2">𝑥</ci><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.4c">\mathbf{x}=\{x_{1},x_{2},\cdots,x_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.4d">bold_x = { italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>。给定<math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_x</annotation></semantics></math>，期望通过代码LLM<math alttext="P(\mathbf{y}|\mathbf{x})" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><mrow id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">P</mi><mo id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.4.m4.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml"><mo id="S3.SS1.p1.4.m4.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p1.4.m4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml">𝐲</mi><mo fence="false" id="S3.SS1.p1.4.m4.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml">𝐱</mi></mrow><mo id="S3.SS1.p1.4.m4.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><times id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2"></times><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑃</ci><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2">𝐲</ci><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3">𝐱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">P(\mathbf{y}|\mathbf{x})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">italic_P ( bold_y | bold_x )</annotation></semantics></math>生成相应的代码片段<math alttext="\mathbf{y}=\{y_{1},y_{2},\cdots,y_{m}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.4"><semantics id="S3.SS1.p1.3.m3.4a"><mrow id="S3.SS1.p1.3.m3.4.4" xref="S3.SS1.p1.3.m3.4.4.cmml"><mi id="S3.SS1.p1.3.m3.4.4.5" xref="S3.SS1.p1.3.m3.4.4.5.cmml">𝐲</mi><mo id="S3.SS1.p1.3.m3.4.4.4" xref="S3.SS1.p1.3.m3.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.3.m3.4.4.3.3" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml"><mo id="S3.SS1.p1.3.m3.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.3.m3.2.2.1.1.1" xref="S3.SS1.p1.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.3.m3.2.2.1.1.1.2" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml">y</mi><mn id="S3.SS1.p1.3.m3.2.2.1.1.1.3" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.5" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.3.m3.3.3.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.3.3.2.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml">y</mi><mn id="S3.SS1.p1.3.m3.3.3.2.2.2.3" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.6" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.3.m3.1.1" mathvariant="normal" xref="S3.SS1.p1.3.m3.1.1.cmml">⋯</mi><mo id="S3.SS1.p1.3.m3.4.4.3.3.7" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.3.m3.4.4.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.3.m3.4.4.3.3.3.2" xref="S3.SS1.p1.3.m3.4.4.3.3.3.2.cmml">y</mi><mi id="S3.SS1.p1.3.m3.4.4.3.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.cmml">m</mi></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.4b"><apply id="S3.SS1.p1.3.m3.4.4.cmml" xref="S3.SS1.p1.3.m3.4.4"><eq id="S3.SS1.p1.3.m3.4.4.4.cmml" xref="S3.SS1.p1.3.m3.4.4.4"></eq><ci id="S3.SS1.p1.3.m3.4.4.5.cmml" xref="S3.SS1.p1.3.m3.4.4.5">𝐲</ci><set id="S3.SS1.p1.3.m3.4.4.3.4.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3"><apply id="S3.SS1.p1.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2">𝑦</ci><cn id="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2">𝑦</ci><cn id="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">⋯</ci><apply id="S3.SS1.p1.3.m3.4.4.3.3.3.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.3.m3.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.2">𝑦</ci><ci id="S3.SS1.p1.3.m3.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.4c">\mathbf{y}=\{y_{1},y_{2},\cdots,y_{m}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.4d">bold_y = { italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ , italic_y start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT }</annotation></semantics></math>。在标准监督微调中，代码LLM被训练以基于交叉熵损失<math alttext="L_{lm}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">L</mi><mrow id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml"><mi id="S3.SS1.p1.5.m5.1.1.3.2" xref="S3.SS1.p1.5.m5.1.1.3.2.cmml">l</mi><mo id="S3.SS1.p1.5.m5.1.1.3.1" xref="S3.SS1.p1.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.5.m5.1.1.3.3" xref="S3.SS1.p1.5.m5.1.1.3.3.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝐿</ci><apply id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3"><times id="S3.SS1.p1.5.m5.1.1.3.1.cmml" xref="S3.SS1.p1.5.m5.1.1.3.1"></times><ci id="S3.SS1.p1.5.m5.1.1.3.2.cmml" xref="S3.SS1.p1.5.m5.1.1.3.2">𝑙</ci><ci id="S3.SS1.p1.5.m5.1.1.3.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">L_{lm}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_L start_POSTSUBSCRIPT italic_l italic_m end_POSTSUBSCRIPT</annotation></semantics></math>来预测下一个标记，如方程<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.E1" title="1 ‣ 3.1 背景：代码生成任务的监督微调 ‣ 3 MANGO ‣ 通过注释透视作为自然逻辑枢纽：通过注释视角改进代码生成"><span class="ltx_text ltx_ref_tag">1</span></a>所示。</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L_{lm}=-\sum_{i}^{m}logP(y_{i}|y_{i-1},\cdots,y_{1},\mathbf{x})" class="ltx_Math" display="block" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml"><msub id="S3.E1.m1.3.3.3" xref="S3.E1.m1.3.3.3.cmml"><mi id="S3.E1.m1.3.3.3.2" xref="S3.E1.m1.3.3.3.2.cmml">L</mi><mrow id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.3.cmml"><mi id="S3.E1.m1.3.3.3.3.2" xref="S3.E1.m1.3.3.3.3.2.cmml">l</mi><mo id="S3.E1.m1.3.3.3.3.1" xref="S3.E1.m1.3.3.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.3.3.3.3.3" xref="S3.E1.m1.3.3.3.3.3.cmml">m</mi></mrow></msub><mo id="S3.E1.m1.3.3.2" xref="S3.E1.m1.3.3.2.cmml">=</mo><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.cmml"><mo id="S3.E1.m1.3.3.1a" xref="S3.E1.m1.3.3.1.cmml">−</mo><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml"><munderover id="S3.E1.m1.3.3.1.1.2" xref="S3.E1.m1.3.3.1.1.2.cmml"><mo id="S3.E1.m1.3.3.1.1.2.2.2" movablelimits="false" xref="S3.E1.m1.3.3.1.1.2.2.2.cmml">∑</mo><mi id="S3.E1.m1.3.3.1.1.2.2.3" xref="S3.E1.m1.3.3.1.1.2.2.3.cmml">i</mi><mi id="S3.E1.m1.3.3.1.1.2.3" xref="S3.E1.m1.3.3.1.1.2.3.cmml">m</mi></munderover><mrow id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.3.cmml">l</mi><mo id="S3.E1.m1.3.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.3.3.1.1.1.4" xref="S3.E1.m1.3.3.1.1.1.4.cmml">o</mi><mo id="S3.E1.m1.3.3.1.1.1.2a" xref="S3.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.3.3.1.1.1.5" xref="S3.E1.m1.3.3.1.1.1.5.cmml">g</mi><mo id="S3.E1.m1.3.3.1.1.1.2b" xref="S3.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.3.3.1.1.1.6" xref="S3.E1.m1.3.3.1.1.1.6.cmml">P</mi><mo id="S3.E1.m1.3.3.1.1.1.2c" xref="S3.E1.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.4" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.4.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4.2.cmml">y</mi><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.4.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S3.E1.m1.3.3.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2.cmml">i</mi><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S3.E1.m1.1.1" mathvariant="normal" xref="S3.E1.m1.1.1.cmml">⋯</mi><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.4" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">y</mi><mn id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.5" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">𝐱</mi></mrow></mrow><mo id="S3.E1.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3"><eq id="S3.E1.m1.3.3.2.cmml" xref="S3.E1.m1.3.3.2"></eq><apply id="S3.E1.m1.3.3.3.cmml" xref="S3.E1.m1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.3.3.3.2.cmml" xref="S3.E1.m1.3.3.3.2">𝐿</ci><apply id="S3.E1.m1.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3"><times id="S3.E1.m1.3.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3.3.1"></times><ci id="S3.E1.m1.3.3.3.3.2.cmml" xref="S3.E1.m1.3.3.3.3.2">𝑙</ci><ci id="S3.E1.m1.3.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3.3">𝑚</ci></apply></apply><apply id="S3.E1.m1.3.3.1.cmml" xref="S3.E1.m1.3.3.1"><minus id="S3.E1.m1.3.3.1.2.cmml" xref="S3.E1.m1.3.3.1"></minus><apply id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1.1"><apply id="S3.E1.m1.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2">superscript</csymbol><apply id="S3.E1.m1.3.3.1.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2">subscript</csymbol><sum id="S3.E1.m1.3.3.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2"></sum><ci id="S3.E1.m1.3.3.1.1.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.2.2.3">𝑖</ci></apply><ci id="S3.E1.m1.3.3.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.2.3">𝑚</ci></apply><apply id="S3.E1.m1.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1"><times id="S3.E1.m1.3.3.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2"></times><ci id="S3.E1.m1.3.3.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.3">𝑙</ci><ci id="S3.E1.m1.3.3.1.1.1.4.cmml" xref="S3.E1.m1.3.3.1.1.1.4">𝑜</ci><ci id="S3.E1.m1.3.3.1.1.1.5.cmml" xref="S3.E1.m1.3.3.1.1.1.5">𝑔</ci><ci id="S3.E1.m1.3.3.1.1.1.6.cmml" xref="S3.E1.m1.3.3.1.1.1.6">𝑃</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.4.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.4.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4.2">𝑦</ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.4.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E1.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2"><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3"><minus id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2">𝑖</ci><cn id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">⋯</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.2">𝑦</ci><cn id="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.1.1.1.2.2.2.3">1</cn></apply><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝐱</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">L_{lm}=-\sum_{i}^{m}logP(y_{i}|y_{i-1},\cdots,y_{1},\mathbf{x})</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">italic_L start_POSTSUBSCRIPT italic_l italic_m end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT italic_l italic_o italic_g italic_P ( italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_y start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT , ⋯ , italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , bold_x )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">3.2 </span>注释对比学习</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">在代碼片段中，代碼注釋自然地扮演著使用自然語言文本解釋本地代碼行的角色，其中邏輯的分解也作為注釋的功能。然而，直接微調損失函數將所有標記視為等效，而不對注釋進行額外的區分。為了適應引導模型生成注釋的任務，我們採用對比學習方法來鼓勵模型在微調過程中更加強調代碼注釋。</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.6">我们的方法包括以下步骤。首先，为了准备用于注释对比学习的数据，我们从训练数据中筛选出包含注释的示例。以开源数据集 Code-Python 为例，该数据集包含一半带有注释的示例。对于包含注释的代码片段 <math alttext="\mathbf{y}_{pos}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><msub id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">𝐲</mi><mrow id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml"><mi id="S3.SS2.p2.1.m1.1.1.3.2" xref="S3.SS2.p2.1.m1.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p2.1.m1.1.1.3.1" xref="S3.SS2.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.1.m1.1.1.3.3" xref="S3.SS2.p2.1.m1.1.1.3.3.cmml">o</mi><mo id="S3.SS2.p2.1.m1.1.1.3.1a" xref="S3.SS2.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.1.m1.1.1.3.4" xref="S3.SS2.p2.1.m1.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝐲</ci><apply id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3"><times id="S3.SS2.p2.1.m1.1.1.3.1.cmml" xref="S3.SS2.p2.1.m1.1.1.3.1"></times><ci id="S3.SS2.p2.1.m1.1.1.3.2.cmml" xref="S3.SS2.p2.1.m1.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.1.m1.1.1.3.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3.3">𝑜</ci><ci id="S3.SS2.p2.1.m1.1.1.3.4.cmml" xref="S3.SS2.p2.1.m1.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\mathbf{y}_{pos}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">bold_y start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT</annotation></semantics></math>，我们使用开源代码解析工具 <span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://github.com/pygments/pygments</span></span></span> 来移除注释，并获得非首选的对比样本 <math alttext="\mathbf{y}_{neg}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">𝐲</mi><mrow id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml"><mi id="S3.SS2.p2.2.m2.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p2.2.m2.1.1.3.1" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.2.m2.1.1.3.1a" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3.4" xref="S3.SS2.p2.2.m2.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝐲</ci><apply id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3"><times id="S3.SS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3.1"></times><ci id="S3.SS2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.2.m2.1.1.3.4.cmml" xref="S3.SS2.p2.2.m2.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\mathbf{y}_{neg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">bold_y start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math>。然后，我们通过设置标签可能性的边际 <math alttext="m" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_m</annotation></semantics></math>，为带有注释 <math alttext="\hat{\mathbf{y}}_{pos}" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mover accent="true" id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2.2" xref="S3.SS2.p2.5.m5.1.1.2.2.cmml">𝐲</mi><mo id="S3.SS2.p2.5.m5.1.1.2.1" xref="S3.SS2.p2.5.m5.1.1.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml"><mi id="S3.SS2.p2.5.m5.1.1.3.2" xref="S3.SS2.p2.5.m5.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p2.5.m5.1.1.3.1" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.5.m5.1.1.3.3" xref="S3.SS2.p2.5.m5.1.1.3.3.cmml">o</mi><mo id="S3.SS2.p2.5.m5.1.1.3.1a" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.5.m5.1.1.3.4" xref="S3.SS2.p2.5.m5.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><apply id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2"><ci id="S3.SS2.p2.5.m5.1.1.2.1.cmml" xref="S3.SS2.p2.5.m5.1.1.2.1">^</ci><ci id="S3.SS2.p2.5.m5.1.1.2.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2.2">𝐲</ci></apply><apply id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3"><times id="S3.SS2.p2.5.m5.1.1.3.1.cmml" xref="S3.SS2.p2.5.m5.1.1.3.1"></times><ci id="S3.SS2.p2.5.m5.1.1.3.2.cmml" xref="S3.SS2.p2.5.m5.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.5.m5.1.1.3.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3.3">𝑜</ci><ci id="S3.SS2.p2.5.m5.1.1.3.4.cmml" xref="S3.SS2.p2.5.m5.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">\hat{\mathbf{y}}_{pos}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">over^ start_ARG bold_y end_ARG start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT</annotation></semantics></math> 和不带注释 <math alttext="\hat{\mathbf{y}}_{neg}" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><msub id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mover accent="true" id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2.2" xref="S3.SS2.p2.6.m6.1.1.2.2.cmml">𝐲</mi><mo id="S3.SS2.p2.6.m6.1.1.2.1" xref="S3.SS2.p2.6.m6.1.1.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml"><mi id="S3.SS2.p2.6.m6.1.1.3.2" xref="S3.SS2.p2.6.m6.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p2.6.m6.1.1.3.1" xref="S3.SS2.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.1.1.3.3" xref="S3.SS2.p2.6.m6.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.6.m6.1.1.3.1a" xref="S3.SS2.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.1.1.3.4" xref="S3.SS2.p2.6.m6.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">subscript</csymbol><apply id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2"><ci id="S3.SS2.p2.6.m6.1.1.2.1.cmml" xref="S3.SS2.p2.6.m6.1.1.2.1">^</ci><ci id="S3.SS2.p2.6.m6.1.1.2.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2.2">𝐲</ci></apply><apply id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3"><times id="S3.SS2.p2.6.m6.1.1.3.1.cmml" xref="S3.SS2.p2.6.m6.1.1.3.1"></times><ci id="S3.SS2.p2.6.m6.1.1.3.2.cmml" xref="S3.SS2.p2.6.m6.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.6.m6.1.1.3.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.6.m6.1.1.3.4.cmml" xref="S3.SS2.p2.6.m6.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">\hat{\mathbf{y}}_{neg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">over^ start_ARG bold_y end_ARG start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math> 的标签添加对比损失 <math alttext="L_{cl}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><msub id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">L</mi><mrow id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml"><mi id="S3.SS2.p2.3.m3.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.3.2.cmml">c</mi><mo id="S3.SS2.p2.3.m3.1.1.3.1" xref="S3.SS2.p2.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝐿</ci><apply id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3"><times id="S3.SS2.p2.3.m3.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3.1"></times><ci id="S3.SS2.p2.3.m3.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.2">𝑐</ci><ci id="S3.SS2.p2.3.m3.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>。</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}L_{cl}=&amp;max(0,m-{\rm log}P_{\theta}(\hat{\mathbf{y}}_{neg}|%
\mathbf{x})+\\
&amp;{\rm log}P_{\theta}(\hat{\mathbf{y}}_{pos}|\mathbf{x}))\end{split}" class="ltx_Math" display="block" id="S3.E2.m1.32"><semantics id="S3.E2.m1.32a"><mtable columnspacing="0pt" displaystyle="true" id="S3.E2.m1.31.31" rowspacing="0pt" xref="S3.E2.m1.32.32.1.cmml"><mtr id="S3.E2.m1.31.31a" xref="S3.E2.m1.32.32.1.cmml"><mtd class="ltx_align_right" columnalign="right" id="S3.E2.m1.31.31b" xref="S3.E2.m1.32.32.1.cmml"><mrow id="S3.E2.m1.3.3.3.3.3" xref="S3.E2.m1.32.32.1.cmml"><msub id="S3.E2.m1.3.3.3.3.3.4" xref="S3.E2.m1.32.32.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml">L</mi><mrow id="S3.E2.m1.2.2.2.2.2.2.1" xref="S3.E2.m1.2.2.2.2.2.2.1.cmml"><mi id="S3.E2.m1.2.2.2.2.2.2.1.2" xref="S3.E2.m1.2.2.2.2.2.2.1.2.cmml">c</mi><mo id="S3.E2.m1.2.2.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.2.2.1.3" xref="S3.E2.m1.2.2.2.2.2.2.1.3.cmml">l</mi></mrow></msub><mo id="S3.E2.m1.3.3.3.3.3.3" xref="S3.E2.m1.3.3.3.3.3.3.cmml">=</mo><mi id="S3.E2.m1.3.3.3.3.3.5" xref="S3.E2.m1.32.32.1.cmml"></mi></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.31.31c" xref="S3.E2.m1.32.32.1.cmml"><mrow id="S3.E2.m1.21.21.21.21.18" xref="S3.E2.m1.32.32.1.cmml"><mi id="S3.E2.m1.4.4.4.4.1.1" xref="S3.E2.m1.4.4.4.4.1.1.cmml">m</mi><mi id="S3.E2.m1.5.5.5.5.2.2" xref="S3.E2.m1.5.5.5.5.2.2.cmml">a</mi><mi id="S3.E2.m1.6.6.6.6.3.3" xref="S3.E2.m1.6.6.6.6.3.3.cmml">x</mi><mrow id="S3.E2.m1.21.21.21.21.18.19" xref="S3.E2.m1.32.32.1.cmml"><mo id="S3.E2.m1.7.7.7.7.4.4" stretchy="false" xref="S3.E2.m1.32.32.1.cmml">(</mo><mn id="S3.E2.m1.8.8.8.8.5.5" xref="S3.E2.m1.8.8.8.8.5.5.cmml">0</mn><mo id="S3.E2.m1.9.9.9.9.6.6" xref="S3.E2.m1.32.32.1.cmml">,</mo><mi id="S3.E2.m1.10.10.10.10.7.7" xref="S3.E2.m1.10.10.10.10.7.7.cmml">m</mi><mo id="S3.E2.m1.11.11.11.11.8.8" xref="S3.E2.m1.11.11.11.11.8.8.cmml">−</mo><mi id="S3.E2.m1.12.12.12.12.9.9" xref="S3.E2.m1.12.12.12.12.9.9.cmml">log</mi><msub id="S3.E2.m1.21.21.21.21.18.19.1" xref="S3.E2.m1.32.32.1.cmml"><mi id="S3.E2.m1.13.13.13.13.10.10" xref="S3.E2.m1.13.13.13.13.10.10.cmml">P</mi><mi id="S3.E2.m1.14.14.14.14.11.11.1" xref="S3.E2.m1.14.14.14.14.11.11.1.cmml">θ</mi></msub><mrow id="S3.E2.m1.21.21.21.21.18.19.2" xref="S3.E2.m1.32.32.1.cmml"><mo id="S3.E2.m1.15.15.15.15.12.12" stretchy="false" xref="S3.E2.m1.32.32.1.cmml">(</mo><msub id="S3.E2.m1.21.21.21.21.18.19.2.1" xref="S3.E2.m1.32.32.1.cmml"><mover accent="true" id="S3.E2.m1.16.16.16.16.13.13" xref="S3.E2.m1.16.16.16.16.13.13.cmml"><mi id="S3.E2.m1.16.16.16.16.13.13.2" xref="S3.E2.m1.16.16.16.16.13.13.2.cmml">𝐲</mi><mo id="S3.E2.m1.16.16.16.16.13.13.1" xref="S3.E2.m1.16.16.16.16.13.13.1.cmml">^</mo></mover><mrow id="S3.E2.m1.17.17.17.17.14.14.1" xref="S3.E2.m1.17.17.17.17.14.14.1.cmml"><mi id="S3.E2.m1.17.17.17.17.14.14.1.2" xref="S3.E2.m1.17.17.17.17.14.14.1.2.cmml">n</mi><mo id="S3.E2.m1.17.17.17.17.14.14.1.1" xref="S3.E2.m1.17.17.17.17.14.14.1.1.cmml">⁢</mo><mi id="S3.E2.m1.17.17.17.17.14.14.1.3" xref="S3.E2.m1.17.17.17.17.14.14.1.3.cmml">e</mi><mo id="S3.E2.m1.17.17.17.17.14.14.1.1a" xref="S3.E2.m1.17.17.17.17.14.14.1.1.cmml">⁢</mo><mi id="S3.E2.m1.17.17.17.17.14.14.1.4" xref="S3.E2.m1.17.17.17.17.14.14.1.4.cmml">g</mi></mrow></msub><mo fence="false" id="S3.E2.m1.18.18.18.18.15.15" rspace="0.167em" stretchy="false" xref="S3.E2.m1.18.18.18.18.15.15.cmml">|</mo><mi id="S3.E2.m1.19.19.19.19.16.16" xref="S3.E2.m1.19.19.19.19.16.16.cmml">𝐱</mi><mo id="S3.E2.m1.20.20.20.20.17.17" stretchy="false" xref="S3.E2.m1.32.32.1.cmml">)</mo></mrow><mo id="S3.E2.m1.21.21.21.21.18.18" xref="S3.E2.m1.21.21.21.21.18.18.cmml">+</mo></mrow></mrow></mtd></mtr><mtr id="S3.E2.m1.31.31d" xref="S3.E2.m1.32.32.1.cmml"><mtd id="S3.E2.m1.31.31e" xref="S3.E2.m1.32.32.1.cmml"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.31.31f" xref="S3.E2.m1.32.32.1.cmml"><mrow id="S3.E2.m1.31.31.31.10.10" xref="S3.E2.m1.32.32.1.cmml"><mi id="S3.E2.m1.22.22.22.1.1.1" xref="S3.E2.m1.22.22.22.1.1.1.cmml">log</mi><msub id="S3.E2.m1.31.31.31.10.10.11" xref="S3.E2.m1.32.32.1.cmml"><mi id="S3.E2.m1.23.23.23.2.2.2" xref="S3.E2.m1.23.23.23.2.2.2.cmml">P</mi><mi id="S3.E2.m1.24.24.24.3.3.3.1" xref="S3.E2.m1.24.24.24.3.3.3.1.cmml">θ</mi></msub><mrow id="S3.E2.m1.31.31.31.10.10.12" xref="S3.E2.m1.32.32.1.cmml"><mo id="S3.E2.m1.25.25.25.4.4.4" stretchy="false" xref="S3.E2.m1.32.32.1.cmml">(</mo><msub id="S3.E2.m1.31.31.31.10.10.12.1" xref="S3.E2.m1.32.32.1.cmml"><mover accent="true" id="S3.E2.m1.26.26.26.5.5.5" xref="S3.E2.m1.26.26.26.5.5.5.cmml"><mi id="S3.E2.m1.26.26.26.5.5.5.2" xref="S3.E2.m1.26.26.26.5.5.5.2.cmml">𝐲</mi><mo id="S3.E2.m1.26.26.26.5.5.5.1" xref="S3.E2.m1.26.26.26.5.5.5.1.cmml">^</mo></mover><mrow id="S3.E2.m1.27.27.27.6.6.6.1" xref="S3.E2.m1.27.27.27.6.6.6.1.cmml"><mi id="S3.E2.m1.27.27.27.6.6.6.1.2" xref="S3.E2.m1.27.27.27.6.6.6.1.2.cmml">p</mi><mo id="S3.E2.m1.27.27.27.6.6.6.1.1" xref="S3.E2.m1.27.27.27.6.6.6.1.1.cmml">⁢</mo><mi id="S3.E2.m1.27.27.27.6.6.6.1.3" xref="S3.E2.m1.27.27.27.6.6.6.1.3.cmml">o</mi><mo id="S3.E2.m1.27.27.27.6.6.6.1.1a" xref="S3.E2.m1.27.27.27.6.6.6.1.1.cmml">⁢</mo><mi id="S3.E2.m1.27.27.27.6.6.6.1.4" xref="S3.E2.m1.27.27.27.6.6.6.1.4.cmml">s</mi></mrow></msub><mo fence="false" id="S3.E2.m1.28.28.28.7.7.7" rspace="0.167em" stretchy="false" xref="S3.E2.m1.28.28.28.7.7.7.cmml">|</mo><mi id="S3.E2.m1.29.29.29.8.8.8" xref="S3.E2.m1.29.29.29.8.8.8.cmml">𝐱</mi><mo id="S3.E2.m1.30.30.30.9.9.9" stretchy="false" xref="S3.E2.m1.32.32.1.cmml">)</mo></mrow><mo id="S3.E2.m1.31.31.31.10.10.10" stretchy="false" xref="S3.E2.m1.32.32.1.cmml">)</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E2.m1.32b"><apply id="S3.E2.m1.32.32.1.cmml" xref="S3.E2.m1.31.31"><eq id="S3.E2.m1.3.3.3.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3.3.3"></eq><apply id="S3.E2.m1.32.32.1.3.cmml" xref="S3.E2.m1.31.31"><csymbol cd="ambiguous" id="S3.E2.m1.32.32.1.3.1.cmml" xref="S3.E2.m1.31.31">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1">𝐿</ci><apply id="S3.E2.m1.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1"><times id="S3.E2.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1.1"></times><ci id="S3.E2.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1.2">𝑐</ci><ci id="S3.E2.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.E2.m1.2.2.2.2.2.2.1.3">𝑙</ci></apply></apply><apply id="S3.E2.m1.32.32.1.1.cmml" xref="S3.E2.m1.31.31"><times id="S3.E2.m1.32.32.1.1.2.cmml" xref="S3.E2.m1.31.31"></times><ci id="S3.E2.m1.4.4.4.4.1.1.cmml" xref="S3.E2.m1.4.4.4.4.1.1">𝑚</ci><ci id="S3.E2.m1.5.5.5.5.2.2.cmml" xref="S3.E2.m1.5.5.5.5.2.2">𝑎</ci><ci id="S3.E2.m1.6.6.6.6.3.3.cmml" xref="S3.E2.m1.6.6.6.6.3.3">𝑥</ci><interval closure="open" id="S3.E2.m1.32.32.1.1.1.2.cmml" xref="S3.E2.m1.31.31"><cn id="S3.E2.m1.8.8.8.8.5.5.cmml" type="integer" xref="S3.E2.m1.8.8.8.8.5.5">0</cn><apply id="S3.E2.m1.32.32.1.1.1.1.1.cmml" xref="S3.E2.m1.31.31"><plus id="S3.E2.m1.21.21.21.21.18.18.cmml" xref="S3.E2.m1.21.21.21.21.18.18"></plus><apply id="S3.E2.m1.32.32.1.1.1.1.1.1.cmml" xref="S3.E2.m1.31.31"><minus id="S3.E2.m1.11.11.11.11.8.8.cmml" xref="S3.E2.m1.11.11.11.11.8.8"></minus><ci id="S3.E2.m1.10.10.10.10.7.7.cmml" xref="S3.E2.m1.10.10.10.10.7.7">𝑚</ci><apply id="S3.E2.m1.32.32.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.31.31"><times id="S3.E2.m1.32.32.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.31.31"></times><ci id="S3.E2.m1.12.12.12.12.9.9.cmml" xref="S3.E2.m1.12.12.12.12.9.9">log</ci><apply id="S3.E2.m1.32.32.1.1.1.1.1.1.1.4.cmml" xref="S3.E2.m1.31.31"><csymbol cd="ambiguous" id="S3.E2.m1.32.32.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E2.m1.31.31">subscript</csymbol><ci id="S3.E2.m1.13.13.13.13.10.10.cmml" xref="S3.E2.m1.13.13.13.13.10.10">𝑃</ci><ci id="S3.E2.m1.14.14.14.14.11.11.1.cmml" xref="S3.E2.m1.14.14.14.14.11.11.1">𝜃</ci></apply><apply id="S3.E2.m1.32.32.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.31.31"><ci id="S3.E2.m1.18.18.18.18.15.15.cmml" xref="S3.E2.m1.18.18.18.18.15.15">|</ci><apply id="S3.E2.m1.32.32.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.31.31"><csymbol cd="ambiguous" id="S3.E2.m1.32.32.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.31.31">subscript</csymbol><apply id="S3.E2.m1.16.16.16.16.13.13.cmml" xref="S3.E2.m1.16.16.16.16.13.13"><ci id="S3.E2.m1.16.16.16.16.13.13.1.cmml" xref="S3.E2.m1.16.16.16.16.13.13.1">^</ci><ci id="S3.E2.m1.16.16.16.16.13.13.2.cmml" xref="S3.E2.m1.16.16.16.16.13.13.2">𝐲</ci></apply><apply id="S3.E2.m1.17.17.17.17.14.14.1.cmml" xref="S3.E2.m1.17.17.17.17.14.14.1"><times id="S3.E2.m1.17.17.17.17.14.14.1.1.cmml" xref="S3.E2.m1.17.17.17.17.14.14.1.1"></times><ci id="S3.E2.m1.17.17.17.17.14.14.1.2.cmml" xref="S3.E2.m1.17.17.17.17.14.14.1.2">𝑛</ci><ci id="S3.E2.m1.17.17.17.17.14.14.1.3.cmml" xref="S3.E2.m1.17.17.17.17.14.14.1.3">𝑒</ci><ci id="S3.E2.m1.17.17.17.17.14.14.1.4.cmml" xref="S3.E2.m1.17.17.17.17.14.14.1.4">𝑔</ci></apply></apply><ci id="S3.E2.m1.19.19.19.19.16.16.cmml" xref="S3.E2.m1.19.19.19.19.16.16">𝐱</ci></apply></apply></apply><apply id="S3.E2.m1.32.32.1.1.1.1.1.2.cmml" xref="S3.E2.m1.31.31"><times id="S3.E2.m1.32.32.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.31.31"></times><ci id="S3.E2.m1.22.22.22.1.1.1.cmml" xref="S3.E2.m1.22.22.22.1.1.1">log</ci><apply id="S3.E2.m1.32.32.1.1.1.1.1.2.4.cmml" xref="S3.E2.m1.31.31"><csymbol cd="ambiguous" id="S3.E2.m1.32.32.1.1.1.1.1.2.4.1.cmml" xref="S3.E2.m1.31.31">subscript</csymbol><ci id="S3.E2.m1.23.23.23.2.2.2.cmml" xref="S3.E2.m1.23.23.23.2.2.2">𝑃</ci><ci id="S3.E2.m1.24.24.24.3.3.3.1.cmml" xref="S3.E2.m1.24.24.24.3.3.3.1">𝜃</ci></apply><apply id="S3.E2.m1.32.32.1.1.1.1.1.2.1.1.1.cmml" xref="S3.E2.m1.31.31"><ci id="S3.E2.m1.28.28.28.7.7.7.cmml" xref="S3.E2.m1.28.28.28.7.7.7">|</ci><apply id="S3.E2.m1.32.32.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E2.m1.31.31"><csymbol cd="ambiguous" id="S3.E2.m1.32.32.1.1.1.1.1.2.1.1.1.2.1.cmml" xref="S3.E2.m1.31.31">subscript</csymbol><apply id="S3.E2.m1.26.26.26.5.5.5.cmml" xref="S3.E2.m1.26.26.26.5.5.5"><ci id="S3.E2.m1.26.26.26.5.5.5.1.cmml" xref="S3.E2.m1.26.26.26.5.5.5.1">^</ci><ci id="S3.E2.m1.26.26.26.5.5.5.2.cmml" xref="S3.E2.m1.26.26.26.5.5.5.2">𝐲</ci></apply><apply id="S3.E2.m1.27.27.27.6.6.6.1.cmml" xref="S3.E2.m1.27.27.27.6.6.6.1"><times id="S3.E2.m1.27.27.27.6.6.6.1.1.cmml" xref="S3.E2.m1.27.27.27.6.6.6.1.1"></times><ci id="S3.E2.m1.27.27.27.6.6.6.1.2.cmml" xref="S3.E2.m1.27.27.27.6.6.6.1.2">𝑝</ci><ci id="S3.E2.m1.27.27.27.6.6.6.1.3.cmml" xref="S3.E2.m1.27.27.27.6.6.6.1.3">𝑜</ci><ci id="S3.E2.m1.27.27.27.6.6.6.1.4.cmml" xref="S3.E2.m1.27.27.27.6.6.6.1.4">𝑠</ci></apply></apply><ci id="S3.E2.m1.29.29.29.8.8.8.cmml" xref="S3.E2.m1.29.29.29.8.8.8">𝐱</ci></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.32c">\begin{split}L_{cl}=&amp;max(0,m-{\rm log}P_{\theta}(\hat{\mathbf{y}}_{neg}|%
\mathbf{x})+\\
&amp;{\rm log}P_{\theta}(\hat{\mathbf{y}}_{pos}|\mathbf{x}))\end{split}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.32d">start_ROW start_CELL italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT = end_CELL start_CELL italic_m italic_a italic_x ( 0 , italic_m - roman_log italic_P start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( over^ start_ARG bold_y end_ARG start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT | bold_x ) + end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL roman_log italic_P start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( over^ start_ARG bold_y end_ARG start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT | bold_x ) ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.9">最终的损失<math alttext="L" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m1.1"><semantics id="S3.SS2.p2.7.m1.1a"><mi id="S3.SS2.p2.7.m1.1.1" xref="S3.SS2.p2.7.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m1.1b"><ci id="S3.SS2.p2.7.m1.1.1.cmml" xref="S3.SS2.p2.7.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m1.1d">italic_L</annotation></semantics></math>是标准交叉熵损失<math alttext="L_{lm}" class="ltx_Math" display="inline" id="S3.SS2.p2.8.m2.1"><semantics id="S3.SS2.p2.8.m2.1a"><msub id="S3.SS2.p2.8.m2.1.1" xref="S3.SS2.p2.8.m2.1.1.cmml"><mi id="S3.SS2.p2.8.m2.1.1.2" xref="S3.SS2.p2.8.m2.1.1.2.cmml">L</mi><mrow id="S3.SS2.p2.8.m2.1.1.3" xref="S3.SS2.p2.8.m2.1.1.3.cmml"><mi id="S3.SS2.p2.8.m2.1.1.3.2" xref="S3.SS2.p2.8.m2.1.1.3.2.cmml">l</mi><mo id="S3.SS2.p2.8.m2.1.1.3.1" xref="S3.SS2.p2.8.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m2.1.1.3.3" xref="S3.SS2.p2.8.m2.1.1.3.3.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m2.1b"><apply id="S3.SS2.p2.8.m2.1.1.cmml" xref="S3.SS2.p2.8.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m2.1.1.1.cmml" xref="S3.SS2.p2.8.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.8.m2.1.1.2.cmml" xref="S3.SS2.p2.8.m2.1.1.2">𝐿</ci><apply id="S3.SS2.p2.8.m2.1.1.3.cmml" xref="S3.SS2.p2.8.m2.1.1.3"><times id="S3.SS2.p2.8.m2.1.1.3.1.cmml" xref="S3.SS2.p2.8.m2.1.1.3.1"></times><ci id="S3.SS2.p2.8.m2.1.1.3.2.cmml" xref="S3.SS2.p2.8.m2.1.1.3.2">𝑙</ci><ci id="S3.SS2.p2.8.m2.1.1.3.3.cmml" xref="S3.SS2.p2.8.m2.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m2.1c">L_{lm}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.8.m2.1d">italic_L start_POSTSUBSCRIPT italic_l italic_m end_POSTSUBSCRIPT</annotation></semantics></math>和对比损失<math alttext="L_{cl}" class="ltx_Math" display="inline" id="S3.SS2.p2.9.m3.1"><semantics id="S3.SS2.p2.9.m3.1a"><msub id="S3.SS2.p2.9.m3.1.1" xref="S3.SS2.p2.9.m3.1.1.cmml"><mi id="S3.SS2.p2.9.m3.1.1.2" xref="S3.SS2.p2.9.m3.1.1.2.cmml">L</mi><mrow id="S3.SS2.p2.9.m3.1.1.3" xref="S3.SS2.p2.9.m3.1.1.3.cmml"><mi id="S3.SS2.p2.9.m3.1.1.3.2" xref="S3.SS2.p2.9.m3.1.1.3.2.cmml">c</mi><mo id="S3.SS2.p2.9.m3.1.1.3.1" xref="S3.SS2.p2.9.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.9.m3.1.1.3.3" xref="S3.SS2.p2.9.m3.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m3.1b"><apply id="S3.SS2.p2.9.m3.1.1.cmml" xref="S3.SS2.p2.9.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m3.1.1.1.cmml" xref="S3.SS2.p2.9.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.9.m3.1.1.2.cmml" xref="S3.SS2.p2.9.m3.1.1.2">𝐿</ci><apply id="S3.SS2.p2.9.m3.1.1.3.cmml" xref="S3.SS2.p2.9.m3.1.1.3"><times id="S3.SS2.p2.9.m3.1.1.3.1.cmml" xref="S3.SS2.p2.9.m3.1.1.3.1"></times><ci id="S3.SS2.p2.9.m3.1.1.3.2.cmml" xref="S3.SS2.p2.9.m3.1.1.3.2">𝑐</ci><ci id="S3.SS2.p2.9.m3.1.1.3.3.cmml" xref="S3.SS2.p2.9.m3.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m3.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.9.m3.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>的加法。</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="L=L_{lm}+L_{cl}" class="ltx_Math" display="block" id="S3.E3.m1.1"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml"><mi id="S3.E3.m1.1.1.2" xref="S3.E3.m1.1.1.2.cmml">L</mi><mo id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.cmml">=</mo><mrow id="S3.E3.m1.1.1.3" xref="S3.E3.m1.1.1.3.cmml"><msub id="S3.E3.m1.1.1.3.2" xref="S3.E3.m1.1.1.3.2.cmml"><mi id="S3.E3.m1.1.1.3.2.2" xref="S3.E3.m1.1.1.3.2.2.cmml">L</mi><mrow id="S3.E3.m1.1.1.3.2.3" xref="S3.E3.m1.1.1.3.2.3.cmml"><mi id="S3.E3.m1.1.1.3.2.3.2" xref="S3.E3.m1.1.1.3.2.3.2.cmml">l</mi><mo id="S3.E3.m1.1.1.3.2.3.1" xref="S3.E3.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E3.m1.1.1.3.2.3.3" xref="S3.E3.m1.1.1.3.2.3.3.cmml">m</mi></mrow></msub><mo id="S3.E3.m1.1.1.3.1" xref="S3.E3.m1.1.1.3.1.cmml">+</mo><msub id="S3.E3.m1.1.1.3.3" xref="S3.E3.m1.1.1.3.3.cmml"><mi id="S3.E3.m1.1.1.3.3.2" xref="S3.E3.m1.1.1.3.3.2.cmml">L</mi><mrow id="S3.E3.m1.1.1.3.3.3" xref="S3.E3.m1.1.1.3.3.3.cmml"><mi id="S3.E3.m1.1.1.3.3.3.2" xref="S3.E3.m1.1.1.3.3.3.2.cmml">c</mi><mo id="S3.E3.m1.1.1.3.3.3.1" xref="S3.E3.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E3.m1.1.1.3.3.3.3" xref="S3.E3.m1.1.1.3.3.3.3.cmml">l</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1"><eq id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"></eq><ci id="S3.E3.m1.1.1.2.cmml" xref="S3.E3.m1.1.1.2">𝐿</ci><apply id="S3.E3.m1.1.1.3.cmml" xref="S3.E3.m1.1.1.3"><plus id="S3.E3.m1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.3.1"></plus><apply id="S3.E3.m1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.3.2.1.cmml" xref="S3.E3.m1.1.1.3.2">subscript</csymbol><ci id="S3.E3.m1.1.1.3.2.2.cmml" xref="S3.E3.m1.1.1.3.2.2">𝐿</ci><apply id="S3.E3.m1.1.1.3.2.3.cmml" xref="S3.E3.m1.1.1.3.2.3"><times id="S3.E3.m1.1.1.3.2.3.1.cmml" xref="S3.E3.m1.1.1.3.2.3.1"></times><ci id="S3.E3.m1.1.1.3.2.3.2.cmml" xref="S3.E3.m1.1.1.3.2.3.2">𝑙</ci><ci id="S3.E3.m1.1.1.3.2.3.3.cmml" xref="S3.E3.m1.1.1.3.2.3.3">𝑚</ci></apply></apply><apply id="S3.E3.m1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.3.3">subscript</csymbol><ci id="S3.E3.m1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.3.3.2">𝐿</ci><apply id="S3.E3.m1.1.1.3.3.3.cmml" xref="S3.E3.m1.1.1.3.3.3"><times id="S3.E3.m1.1.1.3.3.3.1.cmml" xref="S3.E3.m1.1.1.3.3.3.1"></times><ci id="S3.E3.m1.1.1.3.3.3.2.cmml" xref="S3.E3.m1.1.1.3.3.3.2">𝑐</ci><ci id="S3.E3.m1.1.1.3.3.3.3.cmml" xref="S3.E3.m1.1.1.3.3.3.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">L=L_{lm}+L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.1d">italic_L = italic_L start_POSTSUBSCRIPT italic_l italic_m end_POSTSUBSCRIPT + italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<figure class="ltx_table" id="S3.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T2.1" style="width:346.9pt;height:191.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.7pt,-0.4pt) scale(1.00404248975466,1.00404248975466) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T2.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T2.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T2.1.1.1.1.1">Prompt Type</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S3.T2.1.1.1.1.2">Content</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.1.2.1.1">Standard</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.1.2.1.2">
<table class="ltx_tabular ltx_align_middle" id="S3.T2.1.1.2.1.2.1">
<tr class="ltx_tr" id="S3.T2.1.1.2.1.2.1.1">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.2.1.2.1.1.1">
### Instruction:</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.2.1.2.1.2">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.2.1.2.1.2.1">Create a Python script for this problem:</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.2.1.2.1.3">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.2.1.2.1.3.1">{input}</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.2.1.2.1.4">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.2.1.2.1.4.1">### Response: Here’s the Python script for the given problem:</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S3.T2.1.1.3.2.1">
<span class="ltx_ERROR undefined" id="S3.T2.1.1.3.2.1.1">\hdashline</span>LCP</th>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T2.1.1.3.2.2">
<table class="ltx_tabular ltx_align_middle" id="S3.T2.1.1.3.2.2.1">
<tr class="ltx_tr" id="S3.T2.1.1.3.2.2.1.1">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.3.2.2.1.1.1">
### Instruction:</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3.2.2.1.2">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.3.2.2.1.2.1">Create a Python script for this problem:</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3.2.2.1.3">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.3.2.2.1.3.1">{input}</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3.2.2.1.4">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.3.2.2.1.4.1">### Response: <span class="ltx_text" id="S3.T2.1.1.3.2.2.1.4.1.1" style="color:#0000FF;">Here’s the Python script for the given problem</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3.2.2.1.5">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.3.2.2.1.5.1"><span class="ltx_text" id="S3.T2.1.1.3.2.2.1.5.1.1" style="color:#0000FF;">with comments to explain the logic:</span></td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表2：</span>标准指令跟随提示和LCP（逻辑注释提示），以及<span class="ltx_text" id="S3.T2.3.1" style="color:#0000FF;">蓝色文本</span>指导模型生成带注释的代码。</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">3.3 </span>LCP: 逻辑注释提示</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">为了使模型能够有意地将注释作为中间步骤使用，向提示中添加相应的说明是成本最低的方法。我们使用逻辑注释提示策略来指导模型在解码阶段生成解释代码逻辑的注释。在包括特定编程语言中生成代码的问题描述和指令的标准提示后，逻辑注释提示显示在表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.T2" title="Table 2 ‣ 3.2 Comment Contrastive Learning ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">2</span></a>中，其中添加了<span class="ltx_text ltx_font_italic" id="S3.SS3.p1.1.1">用注释解释逻辑：</span>或类似的文本。</p>
</div>
<figure class="ltx_table" id="S3.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T3.1" style="width:325.2pt;height:398.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(37.8pt,-46.3pt) scale(1.30281181755821,1.30281181755821) ;">
<table class="ltx_tabular ltx_align_middle" id="S3.T3.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T3.1.1.1.1.1" rowspan="2"><span class="ltx_text" id="S3.T3.1.1.1.1.1.1">setting</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T3.1.1.1.1.2">HumanEval</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T3.1.1.1.1.3">MBPP</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.2.2.1">Pass@1</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.2.2.2">Pass@5</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.2.2.3">Pass@10</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.2.2.4">Pass@1</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.2.2.5">Pass@5</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.2.2.6">Pass@10</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.3.3">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="7" id="S3.T3.1.1.3.3.1">StarCoder-7B</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.4.4">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.1">SFT</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.2">35.93</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.3">55.69</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.4">63.01</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.5">42.79</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.6">56.41</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.4.4.7">61.13</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.5.5">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.1">\wCoT</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.2">22.40</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.3">49.39</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.4">58.95</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.5">26.45</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.6">52.27</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.5.5.7">59.87</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.6.6">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.1">\wLCP</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.2">39.17</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.3">61.91</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.4">70.12</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.5"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.6.6.5.1">41.11</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.6"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.6.6.6.1">57.68</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.6.6.7">63.27</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.7.7">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.1">MANGO</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.2"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.7.7.2.1">39.73</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.3"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.7.7.3.1">62.81</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.4"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.7.7.4.1">70.53</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.5">40.92</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.6"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.7.7.6.1">57.68</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.7.7.7"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.7.7.7.1">63.53</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.8.8">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="7" id="S3.T3.1.1.8.8.1">WizardCoder-3B</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.9.9">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.1">SFT</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.2">33.37</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.3">51.43</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.4">58.12</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.5">35.98</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.6">51.51</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.9.9.7">56.80</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.10.10">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.1">\wCoT</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.2">17.28</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.3">41.09</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.4">51.83</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.5">21.38</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.6">44.89</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.10.10.7">52.20</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.11.11">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.1">\wLCP</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.2">34.17</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.3"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.11.11.3.1">56.07</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.4"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.11.11.4.1">63.82</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.5">34.79</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.6">51.23</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.11.11.7">57.47</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.12.12">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.1">MANGO</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.2"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.12.12.2.1">34.47</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.3">54.55</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.4">61.99</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.5"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.12.12.5.1">35.53</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.6"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.12.12.6.1">52.04</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.12.12.7"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.12.12.7.1">58.27</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.13.13">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="7" id="S3.T3.1.1.13.13.1">WizardCoder-7B</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.14.14">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.1">SFT</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.2">52.80</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.3">69.74</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.4">74.59</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.5">42.73</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.6">56.77</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.14.14.7">62.33</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.15.15">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.1">\wCOT</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.2">42.50</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.3">68.68</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.4">75.20</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.5">31.25</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.6">52.65</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.15.15.7">59.67</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.16.16">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.1">\wLCP</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.2">52.95</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.3">70.70</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.4">75.81</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.5">41.96</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.6">57.82</td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.16.16.7">63.27</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.17.17">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.1">MANGO</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.2"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.17.17.2.1">54.59</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.3"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.17.17.3.1">72.76</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.4"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.17.17.4.1">78.66</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.5"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.17.17.5.1">46.91</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.6"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.17.17.6.1">62.26</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.1.1.17.17.7"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.17.17.7.1">67.87</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表3：</span> MANGO上的主要实验。 <span class="ltx_text ltx_font_bold" id="S3.T3.3.1">粗体</span> 文本是实验或可比设置中的最佳结果。</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">4 </span>实验和结果</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">在这一部分，我们对不同的基准和骨干模型进行了我们方法的实验，接下来的部分描述了实验的细节。</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">4.1 </span>训练设置</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.2">我们从3B到7B选择了最先进的开源骨干WizardCoder和StarCoder。
我们使用<span class="ltx_text ltx_font_bold" id="S4.SS1.p1.2.1">codem-python</span> <cite class="ltx_cite ltx_citemacro_cite">Zan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib19" title="">2023</a>)</cite> 作为训练数据，其中包括从GPT-4中提炼出的9600个Python示例，使用Evol-instruct <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib18" title="">2023</a>)</cite>。
我们的训练脚本主要遵循WizardCoder <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib12" title="">2023</a>)</cite>，并使用批大小为256进行3个epoch（111步）的训练；热身步骤为15。对于我们注释对比训练损失中的超参数边界 <math alttext="m" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mi id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><ci id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_m</annotation></semantics></math>，我们在实验中为所有模型设置了 <math alttext="m=0.1" class="ltx_Math" display="inline" id="S4.SS1.p1.2.m2.1"><semantics id="S4.SS1.p1.2.m2.1a"><mrow id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">m</mi><mo id="S4.SS1.p1.2.m2.1.1.1" xref="S4.SS1.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><eq id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1.1"></eq><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">𝑚</ci><cn id="S4.SS1.p1.2.m2.1.1.3.cmml" type="float" xref="S4.SS1.p1.2.m2.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">m=0.1</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.2.m2.1d">italic_m = 0.1</annotation></semantics></math>。
我们使用DeepSpeed<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://github.com/microsoft/DeepSpeed</span></span></span>阶段1进行分布式训练。我们标准的监督微调实现结果与CodeM-Python <cite class="ltx_cite ltx_citemacro_cite">Zan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib19" title="">2023</a>)</cite> 的贪婪搜索策略中的Pass@1结果的误差范围在1%之内，这表明我们的实验设置与现有工作相比能够产生一致的结果。</p>
</div>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">SFT（监督微调）</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px1.p1.1">我们在WizardCoder <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib12" title="">2023</a>)</cite>中构建了CodeM-Python数据集的标准指令模板，训练目标是交叉熵。</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">CoT (思维链)</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px2.p1.1">作为另一个基准，此设置在标准微调模型上使用零射击-CoT<cite class="ltx_cite ltx_citemacro_cite">Kojima et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib8" title="">2022</a>)</cite>，详细提示为附录中的“CoT-pre1”<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S5.SS1" title="5.1 对LCP和CoT的稳健性研究 ‣ 5 分析 ‣ 作为自然逻辑枢纽的注释：通过注释视角改进代码生成"><span class="ltx_text ltx_ref_tag">5.1</span></a>表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#A1.T11" title="表11 ‣ 附录A 变体提示的细节 ‣ 7 结论 ‣ 6.2 基于提示的代码生成策略 ‣ 6 相关工作 ‣ 5.4 错误分布 ‣ 5.3 CoT和对比注释损失之间的关系 ‣ 5.2 生成代码的统计特征 ‣ 5.1 对LCP和CoT的稳健性研究 ‣ 5 分析 ‣ 作为自然逻辑枢纽的注释：通过注释视角改进代码生成"><span class="ltx_text ltx_ref_tag">11</span></a>。</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">LCP（逻辑注释提示）</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px3.p1.1">这个设置使用LCP策略来指导标准微调模型，生成带有注释的代码。在实验中使用的详细提示显示在表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.T2" title="表2 ‣ 3.2注释对比学习 ‣ 3 MANGO ‣ 注释作为自然逻辑枢纽：通过注释视角改进代码生成"><span class="ltx_text ltx_ref_tag">2</span></a>中。</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">MANGO</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px4.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px4.p1.1">(自然逻辑中的注释作为关键点) 在训练阶段，MANGO在相同的指导模板中训练相同的数据集，训练目标是根据方程<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.E2" title="2 ‣ 3.2 Comment Contrastive Learning ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">2</span></a>和方程<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.E3" title="3 ‣ 3.2 Comment Contrastive Learning ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">3</span></a>进行注释对比损失。在推理阶段，将使用逻辑注释提示（LCP）策略。</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px5">
<h4 class="ltx_title ltx_title_paragraph">解码设置</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px5.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px5.p1.2">我们遵循CodeLLaMA中的设置<cite class="ltx_cite ltx_citemacro_cite">Roziere et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib15" title="">2023</a>)</cite>，使用温度<math alttext="T=0.8" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px5.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px5.p1.1.m1.1a"><mrow id="S4.SS1.SSS0.Px5.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.cmml"><mi id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.2.cmml">T</mi><mo id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.1" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.3.cmml">0.8</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px5.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1"><eq id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.1"></eq><ci id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.2">𝑇</ci><cn id="S4.SS1.SSS0.Px5.p1.1.m1.1.1.3.cmml" type="float" xref="S4.SS1.SSS0.Px5.p1.1.m1.1.1.3">0.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px5.p1.1.m1.1c">T=0.8</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px5.p1.1.m1.1d">italic_T = 0.8</annotation></semantics></math>和核取样<math alttext="top\_p=0.95" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px5.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px5.p1.2.m2.1a"><mrow id="S4.SS1.SSS0.Px5.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.cmml"><mrow id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.cmml"><mi id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.2" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.2.cmml">t</mi><mo id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.3" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.3.cmml">o</mi><mo id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1a" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.4" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.4.cmml">p</mi><mo id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1b" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.5" mathvariant="normal" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.5.cmml">_</mi><mo id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1c" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.6" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.6.cmml">p</mi></mrow><mo id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.1" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.3" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.3.cmml">0.95</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px5.p1.2.m2.1b"><apply id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1"><eq id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.1"></eq><apply id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2"><times id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.1"></times><ci id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.2.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.2">𝑡</ci><ci id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.3.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.3">𝑜</ci><ci id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.4.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.4">𝑝</ci><ci id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.5.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.5">_</ci><ci id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.6.cmml" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.2.6">𝑝</ci></apply><cn id="S4.SS1.SSS0.Px5.p1.2.m2.1.1.3.cmml" type="float" xref="S4.SS1.SSS0.Px5.p1.2.m2.1.1.3">0.95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px5.p1.2.m2.1c">top\_p=0.95</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px5.p1.2.m2.1d">italic_t italic_o italic_p _ italic_p = 0.95</annotation></semantics></math>。我们生成n = 10个样本并计算Pass@k，其中k = 1, 5, 10。</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">4.2 </span>评估设置</h3>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">评估指标</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.2">Pass@k <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib5" title="">2021</a>)</cite> 目前是代码生成中最广泛使用的度量标准。它意味着在采样 <math alttext="n" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.1.m1.1b"><ci id="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.1.m1.1d">italic_n</annotation></semantics></math> 个样本的情况下，任何代码正确的可能性在 <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.2.m2.1d">italic_k</annotation></semantics></math> 个样本中。</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="{\rm Pass}@k=\mathbb{E}_{\text{Problems}}\left[1-\frac{\left(\begin{array}[]{c%
}n-c\\
k\end{array}\right)}{\left(\begin{array}[]{l}n\\
k\end{array}\right)}\right]" class="ltx_Math" display="block" id="S4.E4.m1.3"><semantics id="S4.E4.m1.3a"><mrow id="S4.E4.m1.3.3" xref="S4.E4.m1.3.3.cmml"><mrow id="S4.E4.m1.3.3.3" xref="S4.E4.m1.3.3.3.cmml"><mi id="S4.E4.m1.3.3.3.2" xref="S4.E4.m1.3.3.3.2.cmml">Pass</mi><mo id="S4.E4.m1.3.3.3.1" xref="S4.E4.m1.3.3.3.1.cmml">⁢</mo><mi id="S4.E4.m1.3.3.3.3" mathvariant="normal" xref="S4.E4.m1.3.3.3.3.cmml">@</mi><mo id="S4.E4.m1.3.3.3.1a" xref="S4.E4.m1.3.3.3.1.cmml">⁢</mo><mi id="S4.E4.m1.3.3.3.4" xref="S4.E4.m1.3.3.3.4.cmml">k</mi></mrow><mo id="S4.E4.m1.3.3.2" xref="S4.E4.m1.3.3.2.cmml">=</mo><mrow id="S4.E4.m1.3.3.1" xref="S4.E4.m1.3.3.1.cmml"><msub id="S4.E4.m1.3.3.1.3" xref="S4.E4.m1.3.3.1.3.cmml"><mi id="S4.E4.m1.3.3.1.3.2" xref="S4.E4.m1.3.3.1.3.2.cmml">𝔼</mi><mtext id="S4.E4.m1.3.3.1.3.3" xref="S4.E4.m1.3.3.1.3.3a.cmml">Problems</mtext></msub><mo id="S4.E4.m1.3.3.1.2" xref="S4.E4.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.E4.m1.3.3.1.1.1" xref="S4.E4.m1.3.3.1.1.2.cmml"><mo id="S4.E4.m1.3.3.1.1.1.2" xref="S4.E4.m1.3.3.1.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.3.3.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.cmml"><mn id="S4.E4.m1.3.3.1.1.1.1.2" xref="S4.E4.m1.3.3.1.1.1.1.2.cmml">1</mn><mo id="S4.E4.m1.3.3.1.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.1.cmml">−</mo><mfrac id="S4.E4.m1.2.2" xref="S4.E4.m1.2.2.cmml"><mrow id="S4.E4.m1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.cmml"><mo id="S4.E4.m1.1.1.1.3.1" xref="S4.E4.m1.1.1.1.1.cmml">(</mo><mtable id="S4.E4.m1.1.1.1.1" rowspacing="0pt" xref="S4.E4.m1.1.1.1.1.cmml"><mtr id="S4.E4.m1.1.1.1.1a" xref="S4.E4.m1.1.1.1.1.cmml"><mtd id="S4.E4.m1.1.1.1.1b" xref="S4.E4.m1.1.1.1.1.cmml"><mrow id="S4.E4.m1.1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.1.cmml"><mi id="S4.E4.m1.1.1.1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.1.1.1.2.cmml">n</mi><mo id="S4.E4.m1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S4.E4.m1.1.1.1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.1.1.1.3.cmml">c</mi></mrow></mtd></mtr><mtr id="S4.E4.m1.1.1.1.1c" xref="S4.E4.m1.1.1.1.1.cmml"><mtd id="S4.E4.m1.1.1.1.1d" xref="S4.E4.m1.1.1.1.1.cmml"><mi id="S4.E4.m1.1.1.1.1.2.1.1" xref="S4.E4.m1.1.1.1.1.2.1.1.cmml">k</mi></mtd></mtr></mtable><mo id="S4.E4.m1.1.1.1.3.2" xref="S4.E4.m1.1.1.1.1.cmml">)</mo></mrow><mrow id="S4.E4.m1.2.2.2.3" xref="S4.E4.m1.2.2.2.1.cmml"><mo id="S4.E4.m1.2.2.2.3.1" xref="S4.E4.m1.2.2.2.1.cmml">(</mo><mtable id="S4.E4.m1.2.2.2.1" rowspacing="0pt" xref="S4.E4.m1.2.2.2.1.cmml"><mtr id="S4.E4.m1.2.2.2.1a" xref="S4.E4.m1.2.2.2.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E4.m1.2.2.2.1b" xref="S4.E4.m1.2.2.2.1.cmml"><mi id="S4.E4.m1.2.2.2.1.1.1.1" xref="S4.E4.m1.2.2.2.1.1.1.1.cmml">n</mi></mtd></mtr><mtr id="S4.E4.m1.2.2.2.1c" xref="S4.E4.m1.2.2.2.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E4.m1.2.2.2.1d" xref="S4.E4.m1.2.2.2.1.cmml"><mi id="S4.E4.m1.2.2.2.1.2.1.1" xref="S4.E4.m1.2.2.2.1.2.1.1.cmml">k</mi></mtd></mtr></mtable><mo id="S4.E4.m1.2.2.2.3.2" xref="S4.E4.m1.2.2.2.1.cmml">)</mo></mrow></mfrac></mrow><mo id="S4.E4.m1.3.3.1.1.1.3" xref="S4.E4.m1.3.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.3b"><apply id="S4.E4.m1.3.3.cmml" xref="S4.E4.m1.3.3"><eq id="S4.E4.m1.3.3.2.cmml" xref="S4.E4.m1.3.3.2"></eq><apply id="S4.E4.m1.3.3.3.cmml" xref="S4.E4.m1.3.3.3"><times id="S4.E4.m1.3.3.3.1.cmml" xref="S4.E4.m1.3.3.3.1"></times><ci id="S4.E4.m1.3.3.3.2.cmml" xref="S4.E4.m1.3.3.3.2">Pass</ci><ci id="S4.E4.m1.3.3.3.3.cmml" xref="S4.E4.m1.3.3.3.3">@</ci><ci id="S4.E4.m1.3.3.3.4.cmml" xref="S4.E4.m1.3.3.3.4">𝑘</ci></apply><apply id="S4.E4.m1.3.3.1.cmml" xref="S4.E4.m1.3.3.1"><times id="S4.E4.m1.3.3.1.2.cmml" xref="S4.E4.m1.3.3.1.2"></times><apply id="S4.E4.m1.3.3.1.3.cmml" xref="S4.E4.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.3.1.cmml" xref="S4.E4.m1.3.3.1.3">subscript</csymbol><ci id="S4.E4.m1.3.3.1.3.2.cmml" xref="S4.E4.m1.3.3.1.3.2">𝔼</ci><ci id="S4.E4.m1.3.3.1.3.3a.cmml" xref="S4.E4.m1.3.3.1.3.3"><mtext id="S4.E4.m1.3.3.1.3.3.cmml" mathsize="70%" xref="S4.E4.m1.3.3.1.3.3">Problems</mtext></ci></apply><apply id="S4.E4.m1.3.3.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.3.3.1.1.2.1.cmml" xref="S4.E4.m1.3.3.1.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.3.3.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1"><minus id="S4.E4.m1.3.3.1.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1"></minus><cn id="S4.E4.m1.3.3.1.1.1.1.2.cmml" type="integer" xref="S4.E4.m1.3.3.1.1.1.1.2">1</cn><apply id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2"><divide id="S4.E4.m1.2.2.3.cmml" xref="S4.E4.m1.2.2"></divide><matrix id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.3"><matrixrow id="S4.E4.m1.1.1.1.1a.cmml" xref="S4.E4.m1.1.1.1.3"><apply id="S4.E4.m1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1"><minus id="S4.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.1"></minus><ci id="S4.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.2">𝑛</ci><ci id="S4.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.3">𝑐</ci></apply></matrixrow><matrixrow id="S4.E4.m1.1.1.1.1b.cmml" xref="S4.E4.m1.1.1.1.3"><ci id="S4.E4.m1.1.1.1.1.2.1.1.cmml" xref="S4.E4.m1.1.1.1.1.2.1.1">𝑘</ci></matrixrow></matrix><matrix id="S4.E4.m1.2.2.2.1.cmml" xref="S4.E4.m1.2.2.2.3"><matrixrow id="S4.E4.m1.2.2.2.1a.cmml" xref="S4.E4.m1.2.2.2.3"><ci id="S4.E4.m1.2.2.2.1.1.1.1.cmml" xref="S4.E4.m1.2.2.2.1.1.1.1">𝑛</ci></matrixrow><matrixrow id="S4.E4.m1.2.2.2.1b.cmml" xref="S4.E4.m1.2.2.2.3"><ci id="S4.E4.m1.2.2.2.1.2.1.1.cmml" xref="S4.E4.m1.2.2.2.1.2.1.1">𝑘</ci></matrixrow></matrix></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.3c">{\rm Pass}@k=\mathbb{E}_{\text{Problems}}\left[1-\frac{\left(\begin{array}[]{c%
}n-c\\
k\end{array}\right)}{\left(\begin{array}[]{l}n\\
k\end{array}\right)}\right]</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.3d">roman_Pass @ italic_k = blackboard_E start_POSTSUBSCRIPT Problems end_POSTSUBSCRIPT [ 1 - divide start_ARG ( start_ARRAY start_ROW start_CELL italic_n - italic_c end_CELL end_ROW start_ROW start_CELL italic_k end_CELL end_ROW end_ARRAY ) end_ARG start_ARG ( start_ARRAY start_ROW start_CELL italic_n end_CELL end_ROW start_ROW start_CELL italic_k end_CELL end_ROW end_ARRAY ) end_ARG ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph"><!DOCTYPE html>
<html><head><title>HumanEval</title></head><body><h1>HumanEval</h1><p>HumanEval is a tool for evaluating human performance.</p><cite>Source: HumanEval Documentation</cite></body></html></h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.1">HumanEval <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib5" title="">2021</a>)</cite> 目前是最广泛使用的用于代码生成的数据集。它包含了164个用Python编写的问题，用于评估编程语言理解、算法和基本数学。对于每个问题，平均包含7.7个单元测试。</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">MBPP</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px3.p1.1">MBPP <cite class="ltx_cite ltx_citemacro_cite">Austin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib2" title="">2021</a>)</cite> 测试集包含500个Python问题。这些问题涵盖了基本的编程概念和标准库功能。每个问题包括一个任务描述、代码解决方案和3个自动化测试案例。</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">4.3 </span>主要结果</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">在评估MANGO的有效性时，我们利用HumanEval和MBPP的通过率作为我们主要的评估指标。主要结果见表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.T3" title="Table 3 ‣ 3.3 LCP: Logical Comment Prompt ‣ 3 MANGO ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">3</span></a>。总体上，我们观察到三个主要方面。第一，将SFT基线与MANGO进行比较，我们在各种规模和骨干上都展示了一致的增强。值得注意的是，StarCoder-7B在Pass@10的HumanEval中显著增加了7.52个百分点。在WizardCoder-7B的情况下，MBPP测试集的Pass@10结果增加了4.17个百分点。其次，在CoT设置中比较骨干的通过率，我们观察到所有情况下模型表现均有所下降，较小的3B模型中表现出更明显的差距。相比之下，LCP提示始终有助于提高模型性能，展示其稳定性和有效性。第三，在对LCP和MANGO进行消融时，我们观察到在HumanEval和MBPP测试集上，经过标准微调的StarCoder-7B仅通过LCP提示就能达到显著更高的分数。这一观察强调了低成本提示方法的巨大潜力。</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">考虑到在零射击设置下提供可比较的结果的便利性，我们还提供了Pass@1的贪婪搜索结果，以便与现有作品的结果进行比较。由于Pass@1是最严格的指标，因此比Pass@10更难改进。根据表4中的结果，零射击CoT提示持续导致模型性能下降；然而，当使用LCP提示时，Pass@1的改善是可观的。</p>
</div>
<figure class="ltx_table" id="S4.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.1" style="width:433.6pt;height:343pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(125.8pt,-99.5pt) scale(2.38179598641044,2.38179598641044) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T4.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T4.1.1.1.1.1">Model</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.1.1.1.1.2">Pass@1</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.1.1.1.1.3">Pass@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.1.1.1.1.4">Pass@10</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.1.2.2.1">GPT-4</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.2.2.2">67.00*</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.2.2.3">–</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.2.2.4">–</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.1.1.3.3.1">CodeLLaMA-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.3.3.2">38.40*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.3.3.3">–</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.3.3.4">–</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.1.1.4.4.1">StarCoder-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.4.2">26.83*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.4.3">–</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.4.4">–</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.1.1.5.5.1">WizardCoder-7B</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.5.2">55.50*</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.5.3">76.03</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.5.4">82.31</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.1.6.6.1">WizardCoder-3B</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.6.6.2">34.80*</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.6.6.3">51.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.6.6.4">59.75</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.1.1.7.7.1">w/ CoT</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.7.7.2">25.61</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.7.7.3">40.05</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.7.7.4">48.78</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T4.1.1.8.8.1">w/ LCP</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.8.8.2">36.59</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.8.8.3">51.57</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.8.8.4">59.15</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表4： </span>各种骨干网络在HumanEval上的零-shot性能。 Pass@1是贪婪搜索解码中的结果，而Pass@5/10是在T=0.8的采样解码中的结果。我们使用*来表示<cite class="ltx_cite ltx_citemacro_citet">Achiam等人（<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib1" title="">2023</a>）</cite>，<cite class="ltx_cite ltx_citemacro_citet">Roziere等人（<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib15" title="">2023</a>）</cite>，<cite class="ltx_cite ltx_citemacro_citet">Li等人（<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib10" title="">2023b</a>）</cite>和<cite class="ltx_cite ltx_citemacro_citet">Luo等人（<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib12" title="">2023</a>）</cite>的结果。</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">4.4 </span>对训练方法的消融研究</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">我们通过对WizardCoder-7B进行的消融研究来评估MANGO的两个组成部分的有效性。所使用的测试集是HumanEval，并且我们遵循主要的实验设置，其中T=0.8，p=0.95。根据表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S4.T5" title="表5 ‣ 4.4 对训练方法进行消融研究 ‣ 4 实验和结果 ‣ 通过注释视角改善代码生成：自然逻辑枢轴的注释"><span class="ltx_text ltx_ref_tag">5</span></a>和表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S3.T3" title="表3 ‣ 3.3 LCP：逻辑注释提示 ‣ 3 MANGO ‣ 通过注释视角改善代码生成：自然逻辑枢轴的注释"><span class="ltx_text ltx_ref_tag">3</span></a>所呈现的结果，注释提示和对比训练损失都有助于提高Pass@10的通过率。此外，集成这两个组成部分可以进一步增加通过率的性能。</p>
</div>
<figure class="ltx_table" id="S4.T5">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T5.1" style="width:346.9pt;height:210.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(99.4pt,-60.4pt) scale(2.34323684951551,2.34323684951551) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T5.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T5.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T5.1.1.2.1.1">Setting</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.1.1.2.1.2">Pass@1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.1.1.2.1.3">Pass@5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.1.1.2.1.4">Pass@10</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.1.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T5.1.1.3.1.1">SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.1.2">52.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.1.3">69.74</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.3.1.4">74.59</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.1.1.4.2.1">w/ LCP</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.2.2">52.95</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.2.3">70.70</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.2.4">75.81</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.1.1.1.1">w/ <math alttext="L_{cl}" class="ltx_Math" display="inline" id="S4.T5.1.1.1.1.m1.1"><semantics id="S4.T5.1.1.1.1.m1.1a"><msub id="S4.T5.1.1.1.1.m1.1.1" xref="S4.T5.1.1.1.1.m1.1.1.cmml"><mi id="S4.T5.1.1.1.1.m1.1.1.2" xref="S4.T5.1.1.1.1.m1.1.1.2.cmml">L</mi><mrow id="S4.T5.1.1.1.1.m1.1.1.3" xref="S4.T5.1.1.1.1.m1.1.1.3.cmml"><mi id="S4.T5.1.1.1.1.m1.1.1.3.2" xref="S4.T5.1.1.1.1.m1.1.1.3.2.cmml">c</mi><mo id="S4.T5.1.1.1.1.m1.1.1.3.1" xref="S4.T5.1.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.T5.1.1.1.1.m1.1.1.3.3" xref="S4.T5.1.1.1.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.1.m1.1b"><apply id="S4.T5.1.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T5.1.1.1.1.m1.1.1.1.cmml" xref="S4.T5.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T5.1.1.1.1.m1.1.1.2.cmml" xref="S4.T5.1.1.1.1.m1.1.1.2">𝐿</ci><apply id="S4.T5.1.1.1.1.m1.1.1.3.cmml" xref="S4.T5.1.1.1.1.m1.1.1.3"><times id="S4.T5.1.1.1.1.m1.1.1.3.1.cmml" xref="S4.T5.1.1.1.1.m1.1.1.3.1"></times><ci id="S4.T5.1.1.1.1.m1.1.1.3.2.cmml" xref="S4.T5.1.1.1.1.m1.1.1.3.2">𝑐</ci><ci id="S4.T5.1.1.1.1.m1.1.1.3.3.cmml" xref="S4.T5.1.1.1.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S4.T5.1.1.1.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.1.2.1">55.47</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.1.3">71.75</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.1.4">76.02</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T5.1.1.5.3.1">MANGO</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.3.2">54.59</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.3.3"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.3.3.1">72.76</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.3.4"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.3.4.1">78.66</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表5：</span>基于WizardCode-7B的MANGO对比损失消融研究。</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">4.5 </span>边距的影响</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">我们通过LLMs对没有注释的代码表示进行边缘化，并使用超参数边缘<math alttext="m" class="ltx_Math" display="inline" id="S4.SS5.p1.1.m1.1"><semantics id="S4.SS5.p1.1.m1.1a"><mi id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b"><ci id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.1.m1.1d">italic_m</annotation></semantics></math>来控制负边缘化的程度。我们在HumanEval上对WizardCoder-7B进行了各种边缘设置的检查，并遵循解码设置T=0.8。表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S4.T6" title="Table 6 ‣ 4.5 The Effect of Margin ‣ 4 Experiments and Results ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">6</span></a>中的结果表明，MANGO在大于0.05的边缘下可以胜过基线。然而，当边缘为0.03时，模型的性能在Pass@5和Pass@10上显著下降，这表明模型对边缘值敏感。</p>
</div>
<figure class="ltx_table" id="S4.T6">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T6.1" style="width:346.9pt;height:229pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(105.3pt,-69.5pt) scale(2.54447400316002,2.54447400316002) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T6.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T6.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T6.1.1.1.1.1">Margin</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T6.1.1.1.1.2">Pass@1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T6.1.1.1.1.3">Pass@5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T6.1.1.1.1.4">Pass@10</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T6.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T6.1.1.2.1.1">0.03</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.1.2.1.2">53.11</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.1.2.1.3">70.42</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.1.1.2.1.4">75.20</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.1.1.3.2.1">0.05</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.1.3.2.2">53.66</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.1.3.2.3">72.98</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.1.3.2.4">78.66</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.1.1.4.3.1">0.10</th>
<td class="ltx_td ltx_align_center" id="S4.T6.1.1.4.3.2">54.59</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.1.4.3.3">72.76</td>
<td class="ltx_td ltx_align_center" id="S4.T6.1.1.4.3.4">78.66</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T6.1.1.5.4.1">0.15</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.1.1.5.4.2">53.13</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.1.1.5.4.3">73.00</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.1.1.5.4.4">79.88</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表6：</span>边际的健壮性验证。</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">5 </span>分析</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">5.1 </span>针对LCP和CoT的稳健性研究</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">我们重新表述了提示，以减轻模型对不同提示样式的响应的随机性。最初，我们手动为LCP和CoT创建了三个提示，这些提示作为种子提示。随后，我们使用GPT-4为每个提示生成了四个额外的变体。此外，为了进行更细致的分析，我们将CoT分为两类：第一类涉及在生成最终代码之前指定思维链文本，代表了最典型和普遍的形式；第二类是无位置约束指导的自由风格CoT。最终，我们为每个类别提供了15个提示。完整的提示在附录中提供。</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">表中的结果表明，LCP提示策略的平均性能要高得多，标准偏差要低得多。值得注意的是，没有位置约束的CoT平均性能比典型的CoT要高，并且偏差更大。</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">除了最常用的独立自然语言计划之外，在实际编码之前，该模型还可以将CoT解释为代码的解释性注释。LCP方法建议将中间步骤作为注释并入，从而稳定模型行为，并提高其性能，与直接生成代码问题相比。</p>
</div>
<figure class="ltx_table" id="S5.SS1.tab1">
<div class="ltx_inline-block ltx_transformed_outer" id="S5.SS1.tab1.1" style="width:368.6pt;height:486.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(116.1pt,-153.4pt) scale(2.70406388133445,2.70406388133445) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.SS1.tab1.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S5.SS1.tab1.1.1.1.1.1">Setting</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.SS1.tab1.1.1.1.1.2">Pass@1</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.SS1.tab1.1.1.1.1.3">Pass@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.SS1.tab1.1.1.1.1.4">Pass@10</td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" colspan="4" id="S5.SS1.tab1.1.1.2.2.1">CoT-Pre</th>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.SS1.tab1.1.1.3.3.1">Avg</th>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.3.3.2">33.24</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.3.3.3">61.88</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.3.3.4">71.38</td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.SS1.tab1.1.1.4.4.1">StDEV</th>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.4.4.2">9.21</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.4.4.3">6.45</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.4.4.4">5.43</td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" colspan="2" id="S5.SS1.tab1.1.1.5.5.1">
<span class="ltx_ERROR undefined" id="S5.SS1.tab1.1.1.5.5.1.1">\hdashline</span> LCP</th>
<td class="ltx_td" id="S5.SS1.tab1.1.1.5.5.2"></td>
<td class="ltx_td" id="S5.SS1.tab1.1.1.5.5.3"></td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.SS1.tab1.1.1.6.6.1">Avg</th>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.6.6.2">48.65</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.6.6.3">68.85</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.6.6.4">74.76</td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.SS1.tab1.1.1.7.7.1">StDEV</th>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.7.7.2">1.37</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.7.7.3">1.74</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.7.7.4">2.45</td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" colspan="2" id="S5.SS1.tab1.1.1.8.8.1">
<span class="ltx_ERROR undefined" id="S5.SS1.tab1.1.1.8.8.1.1">\hdashline</span> CoT-No-Position</th>
<td class="ltx_td" id="S5.SS1.tab1.1.1.8.8.2"></td>
<td class="ltx_td" id="S5.SS1.tab1.1.1.8.8.3"></td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.SS1.tab1.1.1.9.9.1">Avg</th>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.9.9.2">40.69</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.9.9.3">65.05</td>
<td class="ltx_td ltx_align_center" id="S5.SS1.tab1.1.1.9.9.4">72.03</td>
</tr>
<tr class="ltx_tr" id="S5.SS1.tab1.1.1.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.SS1.tab1.1.1.10.10.1">StDEV</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.SS1.tab1.1.1.10.10.2">10.64</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.SS1.tab1.1.1.10.10.3">7.19</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.SS1.tab1.1.1.10.10.4">5.46</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">表 7： </span>三个提示组的均值和标准差。CoT-Pre表示提示请求模型首先生成思维链，然后生成代码，而CoT-No-Position表示提示引导模型仅使用思维链生成代码。</figcaption>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">5.2 </span>生成代码的统计特征</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">我们统计了不同指导策略和训练方法之间的样式转换，包括有效的代码行数和注释行数。如表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S5.T8" title="Table 8 ‣ 5.2 Statistical Features of Generated Codes ‣ 5.1 The Robustness Study Against LCP and CoT ‣ 5 Analysis ‣ Comments as Natural Logic Pivots: Improve Code Generation via Comment Perspective"><span class="ltx_text ltx_ref_tag">8</span></a>，CoT提示引导模型在生成代码之前生成中间步骤，导致比没有指导的提示少一些注释行。LCP提示与原始提示相比引起更多的代码注释。最后，对比训练损失<math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><msub id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">L</mi><mrow id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml"><mi id="S5.SS2.p1.1.m1.1.1.3.2" xref="S5.SS2.p1.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.SS2.p1.1.m1.1.1.3.1" xref="S5.SS2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.SS2.p1.1.m1.1.1.3.3" xref="S5.SS2.p1.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝐿</ci><apply id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3"><times id="S5.SS2.p1.1.m1.1.1.3.1.cmml" xref="S5.SS2.p1.1.m1.1.1.3.1"></times><ci id="S5.SS2.p1.1.m1.1.1.3.2.cmml" xref="S5.SS2.p1.1.m1.1.1.3.2">𝑐</ci><ci id="S5.SS2.p1.1.m1.1.1.3.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>并没有改变代码和注释行数特性。</p>
</div>
<figure class="ltx_table" id="S5.T8">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T8.1" style="width:411.9pt;height:183pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(104.7pt,-46.5pt) scale(2.03355874156357,2.03355874156357) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T8.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T8.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T8.1.1.1.1.1">setting</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T8.1.1.1.1.2">#avg. code line</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T8.1.1.1.1.3">#avg. comment line</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T8.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T8.1.1.2.1.1">origin</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.1.1.2.1.2">15.56</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T8.1.1.2.1.3">1.36</td>
</tr>
<tr class="ltx_tr" id="S5.T8.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.1.1.3.2.1">\wCoT</th>
<td class="ltx_td ltx_align_center" id="S5.T8.1.1.3.2.2">11.68</td>
<td class="ltx_td ltx_align_center" id="S5.T8.1.1.3.2.3">0.38</td>
</tr>
<tr class="ltx_tr" id="S5.T8.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T8.1.1.4.3.1">\wLCP</th>
<td class="ltx_td ltx_align_center" id="S5.T8.1.1.4.3.2">20.92</td>
<td class="ltx_td ltx_align_center" id="S5.T8.1.1.4.3.3">3.29</td>
</tr>
<tr class="ltx_tr" id="S5.T8.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T8.1.1.5.4.1">MANGO</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T8.1.1.5.4.2">20.80</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T8.1.1.5.4.3">3.33</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表8：</span>基于WizardCoder-7B的SFT设置和MANGO结果中不同提示的代码和注释行计数。</figcaption>
</figure>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">5.3 </span>CoT与对比注释损失之间的关系</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">调查比较学习注释是否能直接推广到CoT的能力增强。考虑到CoT提示生成的代码存在实质性波动，我们选择三个典型提示作为研究对象。通过对生成代码中行数的统计分析，这三个提示分别代表了在WizardCoder-7B上具有三个不同平均值的代码风格，分别为0、2和3，并且详细提示将列在附录中（CoT1：CoT-No-Position1，CoT2：CoT-pre1，CoT3：CoT-pre2）。我们在SFT设置和对比训练设置中测试模型。结果显示在表格中。<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S5.T9" title="表9 ‣ 5.3 CoT和对比注释损失之间的关系 ‣ 5.2 生成代码的统计特性 ‣ 5.1 鲁棒性研究对抗LCP和CoT ‣ 5 分析 ‣ 注释作为自然逻辑中心：通过注释角度改善代码生成"><span class="ltx_text ltx_ref_tag">9</span></a>。比较注释行数的平均值和最终通过率，我们可以发现，CoT提示能够引导的注释越多，性能就越高。</p>
</div>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1">在相同的设置下比较SFT和<math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><msub id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml"><mi id="S5.SS3.p2.1.m1.1.1.2" xref="S5.SS3.p2.1.m1.1.1.2.cmml">L</mi><mrow id="S5.SS3.p2.1.m1.1.1.3" xref="S5.SS3.p2.1.m1.1.1.3.cmml"><mi id="S5.SS3.p2.1.m1.1.1.3.2" xref="S5.SS3.p2.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.SS3.p2.1.m1.1.1.3.1" xref="S5.SS3.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.SS3.p2.1.m1.1.1.3.3" xref="S5.SS3.p2.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><apply id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.1.m1.1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p2.1.m1.1.1.2.cmml" xref="S5.SS3.p2.1.m1.1.1.2">𝐿</ci><apply id="S5.SS3.p2.1.m1.1.1.3.cmml" xref="S5.SS3.p2.1.m1.1.1.3"><times id="S5.SS3.p2.1.m1.1.1.3.1.cmml" xref="S5.SS3.p2.1.m1.1.1.3.1"></times><ci id="S5.SS3.p2.1.m1.1.1.3.2.cmml" xref="S5.SS3.p2.1.m1.1.1.3.2">𝑐</ci><ci id="S5.SS3.p2.1.m1.1.1.3.3.cmml" xref="S5.SS3.p2.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>，可以观察到，对于通过代码注释本身执行CoT的提示（即“CoT1”），对比学习后的模型一直改进了代码通过率。然而，对于通过其他方式执行CoT的提示，比较学习后观察到性能下降。这一现象表明，仅通过少量对比学习来微调注释并不容易转移到其他形式的任务分解。</p>
</div>
<figure class="ltx_table" id="S5.T9">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T9.6" style="width:433.6pt;height:695.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(132.6pt,-212.6pt) scale(2.57510518046348,2.57510518046348) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T9.6.6">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T9.6.6.7.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_tt" colspan="2" id="S5.T9.6.6.7.1.1">setting</th>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T9.6.6.7.1.2">pass@1</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T9.6.6.7.1.3">pass@5</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T9.6.6.7.1.4">pass@10</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T9.6.6.7.1.5">MCL</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.8.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" colspan="6" id="S5.T9.6.6.8.2.1">WizardCoder-3B</th>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.9.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.9.3.1" rowspan="2"><span class="ltx_text" id="S5.T9.6.6.9.3.1.1">CoT1</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.9.3.2">SFT</th>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.9.3.3">28.80</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.9.3.4">52.22</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.9.3.5">61.38</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.9.3.6">2.83</td>
</tr>
<tr class="ltx_tr" id="S5.T9.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.1.1.1.1"><math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T9.1.1.1.1.m1.1"><semantics id="S5.T9.1.1.1.1.m1.1a"><msub id="S5.T9.1.1.1.1.m1.1.1" xref="S5.T9.1.1.1.1.m1.1.1.cmml"><mi id="S5.T9.1.1.1.1.m1.1.1.2" xref="S5.T9.1.1.1.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T9.1.1.1.1.m1.1.1.3" xref="S5.T9.1.1.1.1.m1.1.1.3.cmml"><mi id="S5.T9.1.1.1.1.m1.1.1.3.2" xref="S5.T9.1.1.1.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T9.1.1.1.1.m1.1.1.3.1" xref="S5.T9.1.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T9.1.1.1.1.m1.1.1.3.3" xref="S5.T9.1.1.1.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T9.1.1.1.1.m1.1b"><apply id="S5.T9.1.1.1.1.m1.1.1.cmml" xref="S5.T9.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T9.1.1.1.1.m1.1.1.1.cmml" xref="S5.T9.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S5.T9.1.1.1.1.m1.1.1.2.cmml" xref="S5.T9.1.1.1.1.m1.1.1.2">𝐿</ci><apply id="S5.T9.1.1.1.1.m1.1.1.3.cmml" xref="S5.T9.1.1.1.1.m1.1.1.3"><times id="S5.T9.1.1.1.1.m1.1.1.3.1.cmml" xref="S5.T9.1.1.1.1.m1.1.1.3.1"></times><ci id="S5.T9.1.1.1.1.m1.1.1.3.2.cmml" xref="S5.T9.1.1.1.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T9.1.1.1.1.m1.1.1.3.3.cmml" xref="S5.T9.1.1.1.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T9.1.1.1.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T9.1.1.1.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S5.T9.1.1.1.2">30.10</td>
<td class="ltx_td ltx_align_left" id="S5.T9.1.1.1.3">52.85</td>
<td class="ltx_td ltx_align_left" id="S5.T9.1.1.1.4">60.77</td>
<td class="ltx_td ltx_align_left" id="S5.T9.1.1.1.5">2.64</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.10.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.10.4.1" rowspan="2"><span class="ltx_text" id="S5.T9.6.6.10.4.1.1">CoT2</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.10.4.2">SFT</th>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.10.4.3">17.91</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.10.4.4">44.05</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.10.4.5">53.86</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.10.4.6">1.35</td>
</tr>
<tr class="ltx_tr" id="S5.T9.2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.2.2.2.1"><math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T9.2.2.2.1.m1.1"><semantics id="S5.T9.2.2.2.1.m1.1a"><msub id="S5.T9.2.2.2.1.m1.1.1" xref="S5.T9.2.2.2.1.m1.1.1.cmml"><mi id="S5.T9.2.2.2.1.m1.1.1.2" xref="S5.T9.2.2.2.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T9.2.2.2.1.m1.1.1.3" xref="S5.T9.2.2.2.1.m1.1.1.3.cmml"><mi id="S5.T9.2.2.2.1.m1.1.1.3.2" xref="S5.T9.2.2.2.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T9.2.2.2.1.m1.1.1.3.1" xref="S5.T9.2.2.2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T9.2.2.2.1.m1.1.1.3.3" xref="S5.T9.2.2.2.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T9.2.2.2.1.m1.1b"><apply id="S5.T9.2.2.2.1.m1.1.1.cmml" xref="S5.T9.2.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T9.2.2.2.1.m1.1.1.1.cmml" xref="S5.T9.2.2.2.1.m1.1.1">subscript</csymbol><ci id="S5.T9.2.2.2.1.m1.1.1.2.cmml" xref="S5.T9.2.2.2.1.m1.1.1.2">𝐿</ci><apply id="S5.T9.2.2.2.1.m1.1.1.3.cmml" xref="S5.T9.2.2.2.1.m1.1.1.3"><times id="S5.T9.2.2.2.1.m1.1.1.3.1.cmml" xref="S5.T9.2.2.2.1.m1.1.1.3.1"></times><ci id="S5.T9.2.2.2.1.m1.1.1.3.2.cmml" xref="S5.T9.2.2.2.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T9.2.2.2.1.m1.1.1.3.3.cmml" xref="S5.T9.2.2.2.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T9.2.2.2.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T9.2.2.2.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S5.T9.2.2.2.2">15.65</td>
<td class="ltx_td ltx_align_left" id="S5.T9.2.2.2.3">40.84</td>
<td class="ltx_td ltx_align_left" id="S5.T9.2.2.2.4">52.03</td>
<td class="ltx_td ltx_align_left" id="S5.T9.2.2.2.5">1.06</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.11.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.11.5.1" rowspan="2"><span class="ltx_text" id="S5.T9.6.6.11.5.1.1">CoT3</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.11.5.2">SFT</th>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.11.5.3">17.28</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.11.5.4">41.09</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.11.5.5">51.83</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.11.5.6">0.95</td>
</tr>
<tr class="ltx_tr" id="S5.T9.3.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.3.3.3.1"><math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T9.3.3.3.1.m1.1"><semantics id="S5.T9.3.3.3.1.m1.1a"><msub id="S5.T9.3.3.3.1.m1.1.1" xref="S5.T9.3.3.3.1.m1.1.1.cmml"><mi id="S5.T9.3.3.3.1.m1.1.1.2" xref="S5.T9.3.3.3.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T9.3.3.3.1.m1.1.1.3" xref="S5.T9.3.3.3.1.m1.1.1.3.cmml"><mi id="S5.T9.3.3.3.1.m1.1.1.3.2" xref="S5.T9.3.3.3.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T9.3.3.3.1.m1.1.1.3.1" xref="S5.T9.3.3.3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T9.3.3.3.1.m1.1.1.3.3" xref="S5.T9.3.3.3.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T9.3.3.3.1.m1.1b"><apply id="S5.T9.3.3.3.1.m1.1.1.cmml" xref="S5.T9.3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T9.3.3.3.1.m1.1.1.1.cmml" xref="S5.T9.3.3.3.1.m1.1.1">subscript</csymbol><ci id="S5.T9.3.3.3.1.m1.1.1.2.cmml" xref="S5.T9.3.3.3.1.m1.1.1.2">𝐿</ci><apply id="S5.T9.3.3.3.1.m1.1.1.3.cmml" xref="S5.T9.3.3.3.1.m1.1.1.3"><times id="S5.T9.3.3.3.1.m1.1.1.3.1.cmml" xref="S5.T9.3.3.3.1.m1.1.1.3.1"></times><ci id="S5.T9.3.3.3.1.m1.1.1.3.2.cmml" xref="S5.T9.3.3.3.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T9.3.3.3.1.m1.1.1.3.3.cmml" xref="S5.T9.3.3.3.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T9.3.3.3.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T9.3.3.3.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S5.T9.3.3.3.2">12.85</td>
<td class="ltx_td ltx_align_left" id="S5.T9.3.3.3.3">34.97</td>
<td class="ltx_td ltx_align_left" id="S5.T9.3.3.3.4">45.33</td>
<td class="ltx_td ltx_align_left" id="S5.T9.3.3.3.5">1.03</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.12.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" colspan="6" id="S5.T9.6.6.12.6.1">WizardCoder-7B</th>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.13.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.13.7.1" rowspan="2"><span class="ltx_text" id="S5.T9.6.6.13.7.1.1">CoT1</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.13.7.2">SFT</th>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.13.7.3">47.64</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.13.7.4">70.89</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.13.7.5">77.64</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.13.7.6">2.70</td>
</tr>
<tr class="ltx_tr" id="S5.T9.4.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.4.4.4.1"><math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T9.4.4.4.1.m1.1"><semantics id="S5.T9.4.4.4.1.m1.1a"><msub id="S5.T9.4.4.4.1.m1.1.1" xref="S5.T9.4.4.4.1.m1.1.1.cmml"><mi id="S5.T9.4.4.4.1.m1.1.1.2" xref="S5.T9.4.4.4.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T9.4.4.4.1.m1.1.1.3" xref="S5.T9.4.4.4.1.m1.1.1.3.cmml"><mi id="S5.T9.4.4.4.1.m1.1.1.3.2" xref="S5.T9.4.4.4.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T9.4.4.4.1.m1.1.1.3.1" xref="S5.T9.4.4.4.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T9.4.4.4.1.m1.1.1.3.3" xref="S5.T9.4.4.4.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T9.4.4.4.1.m1.1b"><apply id="S5.T9.4.4.4.1.m1.1.1.cmml" xref="S5.T9.4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T9.4.4.4.1.m1.1.1.1.cmml" xref="S5.T9.4.4.4.1.m1.1.1">subscript</csymbol><ci id="S5.T9.4.4.4.1.m1.1.1.2.cmml" xref="S5.T9.4.4.4.1.m1.1.1.2">𝐿</ci><apply id="S5.T9.4.4.4.1.m1.1.1.3.cmml" xref="S5.T9.4.4.4.1.m1.1.1.3"><times id="S5.T9.4.4.4.1.m1.1.1.3.1.cmml" xref="S5.T9.4.4.4.1.m1.1.1.3.1"></times><ci id="S5.T9.4.4.4.1.m1.1.1.3.2.cmml" xref="S5.T9.4.4.4.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T9.4.4.4.1.m1.1.1.3.3.cmml" xref="S5.T9.4.4.4.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T9.4.4.4.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T9.4.4.4.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S5.T9.4.4.4.2">50.43</td>
<td class="ltx_td ltx_align_left" id="S5.T9.4.4.4.3">71.68</td>
<td class="ltx_td ltx_align_left" id="S5.T9.4.4.4.4">77.64</td>
<td class="ltx_td ltx_align_left" id="S5.T9.4.4.4.5">3.03</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.14.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.14.8.1" rowspan="2"><span class="ltx_text" id="S5.T9.6.6.14.8.1.1">CoT2</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.14.8.2">SFT</th>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.14.8.3">47.70</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.14.8.4">67.94</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.14.8.5">73.78</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.14.8.6">1.86</td>
</tr>
<tr class="ltx_tr" id="S5.T9.5.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.5.5.5.1"><math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T9.5.5.5.1.m1.1"><semantics id="S5.T9.5.5.5.1.m1.1a"><msub id="S5.T9.5.5.5.1.m1.1.1" xref="S5.T9.5.5.5.1.m1.1.1.cmml"><mi id="S5.T9.5.5.5.1.m1.1.1.2" xref="S5.T9.5.5.5.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T9.5.5.5.1.m1.1.1.3" xref="S5.T9.5.5.5.1.m1.1.1.3.cmml"><mi id="S5.T9.5.5.5.1.m1.1.1.3.2" xref="S5.T9.5.5.5.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T9.5.5.5.1.m1.1.1.3.1" xref="S5.T9.5.5.5.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T9.5.5.5.1.m1.1.1.3.3" xref="S5.T9.5.5.5.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T9.5.5.5.1.m1.1b"><apply id="S5.T9.5.5.5.1.m1.1.1.cmml" xref="S5.T9.5.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T9.5.5.5.1.m1.1.1.1.cmml" xref="S5.T9.5.5.5.1.m1.1.1">subscript</csymbol><ci id="S5.T9.5.5.5.1.m1.1.1.2.cmml" xref="S5.T9.5.5.5.1.m1.1.1.2">𝐿</ci><apply id="S5.T9.5.5.5.1.m1.1.1.3.cmml" xref="S5.T9.5.5.5.1.m1.1.1.3"><times id="S5.T9.5.5.5.1.m1.1.1.3.1.cmml" xref="S5.T9.5.5.5.1.m1.1.1.3.1"></times><ci id="S5.T9.5.5.5.1.m1.1.1.3.2.cmml" xref="S5.T9.5.5.5.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T9.5.5.5.1.m1.1.1.3.3.cmml" xref="S5.T9.5.5.5.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T9.5.5.5.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T9.5.5.5.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S5.T9.5.5.5.2">44.80</td>
<td class="ltx_td ltx_align_left" id="S5.T9.5.5.5.3">70.28</td>
<td class="ltx_td ltx_align_left" id="S5.T9.5.5.5.4">76.42</td>
<td class="ltx_td ltx_align_left" id="S5.T9.5.5.5.5">1.89</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.15.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T9.6.6.15.9.1" rowspan="2"><span class="ltx_text" id="S5.T9.6.6.15.9.1.1">CoT3</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T9.6.6.15.9.2">SFT</th>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.15.9.3">42.30</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.15.9.4">67.76</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.15.9.5">74.19</td>
<td class="ltx_td ltx_align_left" id="S5.T9.6.6.15.9.6">0.38</td>
</tr>
<tr class="ltx_tr" id="S5.T9.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T9.6.6.6.1"><math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T9.6.6.6.1.m1.1"><semantics id="S5.T9.6.6.6.1.m1.1a"><msub id="S5.T9.6.6.6.1.m1.1.1" xref="S5.T9.6.6.6.1.m1.1.1.cmml"><mi id="S5.T9.6.6.6.1.m1.1.1.2" xref="S5.T9.6.6.6.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T9.6.6.6.1.m1.1.1.3" xref="S5.T9.6.6.6.1.m1.1.1.3.cmml"><mi id="S5.T9.6.6.6.1.m1.1.1.3.2" xref="S5.T9.6.6.6.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T9.6.6.6.1.m1.1.1.3.1" xref="S5.T9.6.6.6.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T9.6.6.6.1.m1.1.1.3.3" xref="S5.T9.6.6.6.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T9.6.6.6.1.m1.1b"><apply id="S5.T9.6.6.6.1.m1.1.1.cmml" xref="S5.T9.6.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T9.6.6.6.1.m1.1.1.1.cmml" xref="S5.T9.6.6.6.1.m1.1.1">subscript</csymbol><ci id="S5.T9.6.6.6.1.m1.1.1.2.cmml" xref="S5.T9.6.6.6.1.m1.1.1.2">𝐿</ci><apply id="S5.T9.6.6.6.1.m1.1.1.3.cmml" xref="S5.T9.6.6.6.1.m1.1.1.3"><times id="S5.T9.6.6.6.1.m1.1.1.3.1.cmml" xref="S5.T9.6.6.6.1.m1.1.1.3.1"></times><ci id="S5.T9.6.6.6.1.m1.1.1.3.2.cmml" xref="S5.T9.6.6.6.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T9.6.6.6.1.m1.1.1.3.3.cmml" xref="S5.T9.6.6.6.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T9.6.6.6.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T9.6.6.6.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T9.6.6.6.2">41.02</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T9.6.6.6.3">68.31</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T9.6.6.6.4">75.81</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T9.6.6.6.5">0.26</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表 9： </span>CoT提示性能与训练损失设置的相关性。“MCL”是平均注释行的缩写。</figcaption>
</figure>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">5.4 </span>错误分布</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1">为了分析MANGO的通过率改善，我们使用HumanEval测试集对问题描述理解错误类型进行分类。MANGO通过利用代码注释来改善模型输出，这并不针对特定类型的代码错误，而是通过分解复杂的编码逻辑来改善对问题描述的整体理解。同时，在代码生成任务中，测试用例可以有效地反映对输出结果的理解程度。我们为评估问题理解建立了两个阈值：编译器是否能成功编译代码以及代码是否能通过至少一个测试用例。基于此，我们粗略地将理解水平分为三种类型，从低到高。</p>
</div>
<div class="ltx_para" id="S5.SS4.p2">
<p class="ltx_p" id="S5.SS4.p2.1">我们将失败的情况分为三类：<span class="ltx_text ltx_font_bold" id="S5.SS4.p2.1.1">验证错误（VE）</span> 包括运行时错误、语法错误以及除了错误答案之外的其他情况；<span class="ltx_text ltx_font_bold" id="S5.SS4.p2.1.2">全部错误答案（AWA）</span> 包括无法通过脚本的第一个测试用例的情况，表明生成的代码对问题描述的理解不够；<span class="ltx_text ltx_font_bold" id="S5.SS4.p2.1.3">部分错误答案（PWA）</span> 包括至少可以通过第一个单元测试但最终失败的情况。</p>
</div>
<figure class="ltx_table" id="S5.T10">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T10.1" style="width:390.3pt;height:258.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(127.1pt,-84.1pt) scale(2.86805399650529,2.86805399650529) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T10.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T10.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S5.T10.1.1.2.1.1">Setting</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T10.1.1.2.1.2">VE</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T10.1.1.2.1.3">AWA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T10.1.1.2.1.4">PWA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T10.1.1.2.1.5">overall</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T10.1.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T10.1.1.3.1.1">SFT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T10.1.1.3.1.2">4.31</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T10.1.1.3.1.3">10.24</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T10.1.1.3.1.4">11.87</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T10.1.1.3.1.5">26.42</td>
</tr>
<tr class="ltx_tr" id="S5.T10.1.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T10.1.1.4.2.1">w/ LCP</th>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.4.2.2">3.84</td>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.4.2.3">8.88</td>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.4.2.4">11.46</td>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.4.2.5">24.19</td>
</tr>
<tr class="ltx_tr" id="S5.T10.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T10.1.1.1.1">w/ <math alttext="L_{cl}" class="ltx_Math" display="inline" id="S5.T10.1.1.1.1.m1.1"><semantics id="S5.T10.1.1.1.1.m1.1a"><msub id="S5.T10.1.1.1.1.m1.1.1" xref="S5.T10.1.1.1.1.m1.1.1.cmml"><mi id="S5.T10.1.1.1.1.m1.1.1.2" xref="S5.T10.1.1.1.1.m1.1.1.2.cmml">L</mi><mrow id="S5.T10.1.1.1.1.m1.1.1.3" xref="S5.T10.1.1.1.1.m1.1.1.3.cmml"><mi id="S5.T10.1.1.1.1.m1.1.1.3.2" xref="S5.T10.1.1.1.1.m1.1.1.3.2.cmml">c</mi><mo id="S5.T10.1.1.1.1.m1.1.1.3.1" xref="S5.T10.1.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T10.1.1.1.1.m1.1.1.3.3" xref="S5.T10.1.1.1.1.m1.1.1.3.3.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T10.1.1.1.1.m1.1b"><apply id="S5.T10.1.1.1.1.m1.1.1.cmml" xref="S5.T10.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T10.1.1.1.1.m1.1.1.1.cmml" xref="S5.T10.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S5.T10.1.1.1.1.m1.1.1.2.cmml" xref="S5.T10.1.1.1.1.m1.1.1.2">𝐿</ci><apply id="S5.T10.1.1.1.1.m1.1.1.3.cmml" xref="S5.T10.1.1.1.1.m1.1.1.3"><times id="S5.T10.1.1.1.1.m1.1.1.3.1.cmml" xref="S5.T10.1.1.1.1.m1.1.1.3.1"></times><ci id="S5.T10.1.1.1.1.m1.1.1.3.2.cmml" xref="S5.T10.1.1.1.1.m1.1.1.3.2">𝑐</ci><ci id="S5.T10.1.1.1.1.m1.1.1.3.3.cmml" xref="S5.T10.1.1.1.1.m1.1.1.3.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T10.1.1.1.1.m1.1c">L_{cl}</annotation><annotation encoding="application/x-llamapun" id="S5.T10.1.1.1.1.m1.1d">italic_L start_POSTSUBSCRIPT italic_c italic_l end_POSTSUBSCRIPT</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T10.1.1.1.2.1">2.81</span></td>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.1.3">10.69</td>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.1.4">10.49</td>
<td class="ltx_td ltx_align_center" id="S5.T10.1.1.1.5">23.99</td>
</tr>
<tr class="ltx_tr" id="S5.T10.1.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S5.T10.1.1.5.3.1">MANGO</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T10.1.1.5.3.2">2.84</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T10.1.1.5.3.3"><span class="ltx_text ltx_font_bold" id="S5.T10.1.1.5.3.3.1">8.49</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T10.1.1.5.3.4"><span class="ltx_text ltx_font_bold" id="S5.T10.1.1.5.3.4.1">10.00</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T10.1.1.5.3.5"><span class="ltx_text ltx_font_bold" id="S5.T10.1.1.5.3.5.1">21.33</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表10： </span>测试结果错误分布统计。</figcaption>
</figure>
<div class="ltx_para" id="S5.SS4.p3">
<p class="ltx_p" id="S5.SS4.p3.1">如表所示<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#S5.T10" title="表10 ‣ 5.4错误分布 ‣ 5.3 CoT与对比性注释损失之间的关系 ‣ 5.2 生成代码的统计特征 ‣ 5.1 对LCP和CoT的稳健性研究 ‣ 5 分析 ‣ 自然逻辑枢纽中的注释：通过注释视角改进代码生成"><span class="ltx_text ltx_ref_tag">10</span></a>，与SFT中的错误率相比，MANGO减少了所有三种类型的错误率。此外，消融组件在三种类型中也显示出更低的错误率，表明MANGO已经减少了各种理解错误的代码错误率。</p>
</div>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">6 </span>相关工作</h2>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">6.1 </span>代码LLMs和逻辑推理</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">预训练语言模型的快速发展带来了代码LLMs的蓬勃发展。最先进的开源代码LLMs是通过大量自然语言语料库和代码语料库进行预训练的<cite class="ltx_cite ltx_citemacro_cite">Roziere et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib15" title="">2023</a>)</cite>。基于这些基础，WizardCoder<cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib12" title="">2023</a>)</cite>和OctoPack<cite class="ltx_cite ltx_citemacro_cite">Muennighoff et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib14" title="">2023</a>)</cite>提出了指令调整数据构建方法，显著提高了代码LLMs的遵循指令能力。此外，<cite class="ltx_cite ltx_citemacro_citet">Fu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib6" title="">2022</a>)</cite>提出代码语料库可以成为CoT能力的来源。同时<cite class="ltx_cite ltx_citemacro_citet">Fu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib6" title="">2022</a>)</cite>和<cite class="ltx_cite ltx_citemacro_citet">Ma et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib13" title="">2023</a>)</cite>观察到，在代码数据上训练小型代码LLMs可以进一步增强模型的逻辑推理能力。</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection"><span class="ltx_tag ltx_tag_subsection">6.2 </span>基于提示的代码生成策略</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">规划策略是将因果语言模型转化为逻辑文本生成的主流技术。现有作品包括CoT（Chain of Thought）的变体<cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib7" title="">2023</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib9" title="">2023a</a>)</cite>，Reflexion<cite class="ltx_cite ltx_citemacro_cite">Shinn et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib16" title="">2023</a>)</cite>等。大多数提示策略利用最先进模型的出色逻辑和理解能力。然而，即使在大小超过10B的大型开源模型上，这些策略也不会起作用<cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib7" title="">2023</a>); Shinn et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib16" title="">2023</a>)</cite>。另一种主流方法是编制反馈以训练代码模型<cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib3" title="">2023</a>, <a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib4" title="">2022</a>)</cite>。我们的方法利用注释，这是程序员广泛接受的规则，以增强代码的可读性并同时解释代码逻辑。<cite class="ltx_cite ltx_citemacro_citet">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#bib.bib11" title="">2023c</a>)</cite>提出，头脑风暴步骤可以提高代码生成性能。在训练代码语料库中常见的注释使模型能够轻松捕捉不同大小的主干模型中代码和自然语言描述逻辑之间的关系。</p>
</div>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section"><span class="ltx_tag ltx_tag_section">7 </span>结论</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">在本文中，我们首先强调了代码注释在桥接自然语言和编程语言方面的重要性，然后我们假设更多的注释来解释代码逻辑可以增强代码生成的性能。我们提出了一个简单有效的方法MANGO，其中包含对比注释损失和逻辑注释提示。主要的实验证明和消融研究表明，MANGO有效地增强了模型生成的代码通过率。在进一步的分析中，我们也比较了LCP和CoT提示策略，发现LCP在特别是对于较小的模型而言比CoT具有明显更好和更稳定的性能。注释对比训练也可以在某些条件下提升CoT的性能。</p>
</div>
<div class="ltx_para" id="S7.p2">
<p class="ltx_p" id="S7.p2.1">总之，我们的工作将注释中心引入为一种新颖的视角，并指导模型使用注释可以稳定增强代码生成能力。将来，我们将进一步探索注释在更广泛复杂场景中的应用潜力，如工具使用和LLM代理。</p>
</div>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">参考资料</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al. (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya,
Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman,
Shyamal Anadkat, et al. 2023.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2303.08774</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Austin et al. (2021)</span>
<span class="ltx_bibblock">
Jacob Austin, Augustus Odena, Maxwell Nye, Maarten Bosma, Henryk Michalewski,
David Dohan, Ellen Jiang, Carrie Cai, Michael Terry, Quoc Le, et al. 2021.

</span>
<span class="ltx_bibblock">Program synthesis with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2108.07732</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023)</span>
<span class="ltx_bibblock">
Angelica Chen, Jérémy Scheurer, Tomasz Korbak, Jon Ander Campos,
Jun Shern Chan, Samuel R Bowman, Kyunghyun Cho, and Ethan Perez. 2023.

</span>
<span class="ltx_bibblock">Improving code generation by training with natural language feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2303.16749</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2022)</span>
<span class="ltx_bibblock">
Bei Chen, Fengji Zhang, Anh Nguyen, Daoguang Zan, Zeqi Lin, Jian-Guang Lou, and
Weizhu Chen. 2022.

</span>
<span class="ltx_bibblock">Codet: Code generation with generated tests.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">The Eleventh International Conference on Learning
Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2021)</span>
<span class="ltx_bibblock">
Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique Ponde de Oliveira
Pinto, Jared Kaplan, Harri Edwards, Yuri Burda, Nicholas Joseph, Greg
Brockman, et al. 2021.

</span>
<span class="ltx_bibblock">Evaluating large language models trained on code.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2107.03374</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et al. (2022)</span>
<span class="ltx_bibblock">
Yao Fu, Hao Peng, and Tushar Khot. 2022.

</span>
<span class="ltx_bibblock">How does gpt obtain its ability? tracing emergent abilities of
language models to their sources.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Yao Fu’s Notion</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023)</span>
<span class="ltx_bibblock">
Xue Jiang, Yihong Dong, Lecheng Wang, Qiwei Shang, and Ge Li. 2023.

</span>
<span class="ltx_bibblock">Self-planning code generation with large language model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2303.06689</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al. (2022)</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke
Iwasawa. 2022.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Advances in neural information processing systems</em>,
35:22199–22213.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023a)</span>
<span class="ltx_bibblock">
Jia Li, Ge Li, Yongmin Li, and Zhi Jin. 2023a.

</span>
<span class="ltx_bibblock">Structured chain-of-thought prompting for code generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2305.06599</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023b)</span>
<span class="ltx_bibblock">
Raymond Li, Loubna Ben Allal, Yangtian Zi, Niklas Muennighoff, Denis Kocetkov,
Chenghao Mou, Marc Marone, Christopher Akiki, Jia Li, Jenny Chim, et al.
2023b.

</span>
<span class="ltx_bibblock">Starcoder: may the source be with you!

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2305.06161</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023c)</span>
<span class="ltx_bibblock">
Xin-Ye Li, Jiang-Tian Xue, Zheng Xie, and Ming Li. 2023c.

</span>
<span class="ltx_bibblock">Think outside the code: Brainstorming boosts large language models in
code generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2305.10679</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2023)</span>
<span class="ltx_bibblock">
Ziyang Luo, Can Xu, Pu Zhao, Qingfeng Sun, Xiubo Geng, Wenxiang Hu, Chongyang
Tao, Jing Ma, Qingwei Lin, and Daxin Jiang. 2023.

</span>
<span class="ltx_bibblock">Wizardcoder: Empowering code large language models with
evol-instruct.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2306.08568</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al. (2023)</span>
<span class="ltx_bibblock">
Yingwei Ma, Yue Liu, Yue Yu, Yuanliang Zhang, Yu Jiang, Changjian Wang, and
Shanshan Li. 2023.

</span>
<span class="ltx_bibblock">At which training stage does code data help llms reasoning?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:2309.16298</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Muennighoff et al. (2023)</span>
<span class="ltx_bibblock">
Niklas Muennighoff, Qian Liu, Armel Zebaze, Qinkai Zheng, Binyuan Hui,
Terry Yue Zhuo, Swayam Singh, Xiangru Tang, Leandro von Werra, and Shayne
Longpre. 2023.

</span>
<span class="ltx_bibblock">Octopack: Instruction tuning code large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2308.07124</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Roziere et al. (2023)</span>
<span class="ltx_bibblock">
Baptiste Roziere, Jonas Gehring, Fabian Gloeckle, Sten Sootla, Itai Gat,
Xiaoqing Ellen Tan, Yossi Adi, Jingyu Liu, Tal Remez, Jérémy Rapin,
et al. 2023.

</span>
<span class="ltx_bibblock">Code llama: Open foundation models for code.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2308.12950</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shinn et al. (2023)</span>
<span class="ltx_bibblock">
Noah Shinn, Federico Cassano, Ashwin Gopinath, Karthik R Narasimhan, and Shunyu
Yao. 2023.

</span>
<span class="ltx_bibblock">Reflexion: Language agents with verbal reinforcement learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Thirty-seventh Conference on Neural Information Processing
Systems</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V
Le, Denny Zhou, et al. 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language
models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Advances in Neural Information Processing Systems</em>,
35:24824–24837.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Can Xu, Qingfeng Sun, Kai Zheng, Xiubo Geng, Pu Zhao, Jiazhan Feng, Chongyang
Tao, and Daxin Jiang. 2023.

</span>
<span class="ltx_bibblock">Wizardlm: Empowering large language models to follow complex
instructions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2304.12244</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zan et al. (2023)</span>
<span class="ltx_bibblock">
Daoguang Zan, Ailun Yu, Bo Shen, Jiaxin Zhang, Taihong Chen, Bing Geng, Bei
Chen, Jichuan Ji, Yafen Yao, Yongji Wang, et al. 2023.

</span>
<span class="ltx_bibblock">Can programming languages boost each other via instruction tuning?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2308.16824</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zelikman et al. (2023)</span>
<span class="ltx_bibblock">
Eric Zelikman, Qian Huang, Gabriel Poesia, Noah Goodman, and Nick Haber. 2023.

</span>
<span class="ltx_bibblock">Parsel: Algorithmic reasoning with language models by composing
decompositions.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Thirty-seventh Conference on Neural Information Processing
Systems</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2023)</span>
<span class="ltx_bibblock">
Wayne Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou,
Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et al. 2023.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">arXiv preprint arXiv:2303.18223</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2023)</span>
<span class="ltx_bibblock">
Yuqi Zhu, Jia Allen Li, Ge Li, YunFei Zhao, Jia Li, Zhi Jin, and Hong Mei.
2023.

</span>
<span class="ltx_bibblock">Improving code generation by dynamic temperature sampling.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2309.02772</em>.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix"><span class="ltx_tag ltx_tag_appendix">附录 A </span>变体提示的细节</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">我们使用三种类型的提示来生成具有不同风格的代码。 CoT-pre表示提示要求模型在生成代码之前生成一系列思维步骤，而CoT-No-Position表示只要求模型生成一系列思维步骤。
三种类型的具体提示如下所示：
我们在表<a class="ltx_ref" href="https://arxiv.org/html/2404.07549v1#A1.T11" title="表11 ‣ 附录A 变体提示的详细信息 ‣ 7 结论 ‣ 6.2 基于提示的代码生成策略 ‣ 6 相关工作 ‣ 5.4 错误分布 ‣ 5.3 CoT和对比性注释损失之间的关系 ‣ 5.2 生成代码的统计特征 ‣ 5.1 对LCP和CoT的鲁棒性研究 ‣ 5 分析 ‣ 注释作为自然逻辑中枢：通过注释视角改进代码生成"><span class="ltx_text ltx_ref_tag">11</span></a>中显示了每种类型的三个种子提示的具体提示，其余提示由GPT-4改写。</p>
</div>
<figure class="ltx_table" id="A1.T11">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T11.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T11.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="A1.T11.1.1.1.1">prompt name</th>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A1.T11.1.1.1.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.1.1.2.1"><div><h1><placeholder_1></placeholder_1>内容<placeholder_2></placeholder_2></h1><p><placeholder_3></placeholder_3>content<placeholder_4></placeholder_4></p></div></p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A1.T11.1.2.2.1">CoT-pre1</th>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A1.T11.1.2.2.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.2.2.2.1">首先，逐步考虑过程，然后呈现Python脚本：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.3.3.1">CoT-pre2</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.3.3.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.3.3.2.1">开始时，先创建一个逐步编码计划，然后按照提供的问题编写Python脚本：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.4.4.1">CoT-pre3</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.4.4.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.4.4.2.1">以下的Python脚本解决了指定的问题，并在开头包含了详细的解释：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.5.5.1">
<span class="ltx_ERROR undefined" id="A1.T11.1.5.5.1.1">\hdashline</span>Comment1</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.5.5.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.5.5.2.1">这是解决指定问题的有注释的Python脚本：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.6.6.1">Comment2</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.6.6.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.6.6.2.1">为了澄清逻辑，最好在脚本中包含注释。以下是针对给定问题的Python代码：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.7.7.1">Comment3</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.7.7.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.7.7.2.1">以下的Python脚本解决了给定的问题，使用简单的注释来分解复杂的逻辑：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.8.8.1">
<span class="ltx_ERROR undefined" id="A1.T11.1.8.8.1.1">\hdashline</span>CoT-No-Position1</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.8.8.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.8.8.2.1">这是指定问题的Python代码，分解为逻辑步骤：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T11.1.9.9.1">CoT-No-Position6</th>
<td class="ltx_td ltx_align_justify" id="A1.T11.1.9.9.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.9.9.2.1">上述问题的Python程序在这里呈现，并附有逐步解释：</p>
</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A1.T11.1.10.10.1">CoT-No-Position11</th>
<td class="ltx_td ltx_align_justify ltx_border_bb" id="A1.T11.1.10.10.2" style="width:341.4pt;">
<p class="ltx_p ltx_align_top" id="A1.T11.1.10.10.2.1">这是一个解决给定问题的Python脚本，并附有全面的分解:</p>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">表11： </span>每种类型的三个手工种子提示。</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix"><span class="ltx_tag ltx_tag_appendix">附录B </span>Case Study</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">我们使用一个简单的编码任务来说明原始提示、LCP提示和CoT提示之间的区别。问题描述如下。</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing" id="A2.p1.2">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,CmRlZiBpc19zaW1wbGVfcG93ZXIoeCwgbik6CiAgICAiIiJZb3VyIHRhc2sgaXMgdG8gd3JpdGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhIG51bWJlciB4IGlzIGEgc2ltcGxlCiAgICBwb3dlciBvZiBuIGFuZCBmYWxzZSBpbiBvdGhlciBjYXNlcy4KICAgIHggaXMgYSBzaW1wbGUgcG93ZXIgb2YgbiBpZiBuKippbnQ9eAogICAgRm9yIGV4YW1wbGU6CiAgICBpc19zaW1wbGVfcG93ZXIoMSwgNCkgPT4gdHJ1ZQogICAgaXNfc2ltcGxlX3Bvd2VyKDIsIDIpID0+IHRydWUKICAgIGlzX3NpbXBsZV9wb3dlcig4LCAyKSA9PiB0cnVlCiAgICBpc19zaW1wbGVfcG93ZXIoMywgMikgPT4gZmFsc2UKICAgIGlzX3NpbXBsZV9wb3dlcigzLCAxKSA9PiBmYWxzZQogICAgaXNfc2ltcGxlX3Bvd2VyKDUsIDMpID0+IGZhbHNlCiAgICAiIiI=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx1">
</div>
<div class="ltx_listingline" id="lstnumberx2">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx2.1" style="color:#0000FF;">def</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.3">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.4">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.5">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.6">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.9">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx3">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.1">    </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.2" style="color:#9400D1;">""</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx3.3" style="color:#9400D1;">"Your<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.1"> </span>task<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.2"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.3"> </span>to<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.4"> </span>write<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.5"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.6"> </span>function<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.7"> </span>that<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.8"> </span>returns<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.9"> </span>true<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.10"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.11"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.12"> </span>number<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.13"> </span>x<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.14"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.15"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx3.3.16"> </span>simple</span>
</div>
<div class="ltx_listingline" id="lstnumberx4">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.2" style="color:#9400D1;">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.4" style="color:#9400D1;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.6" style="color:#9400D1;">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.8" style="color:#9400D1;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.10" style="color:#9400D1;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.12" style="color:#9400D1;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.14" style="color:#9400D1;">other</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.16" style="color:#9400D1;">cases.</span>
</div>
<div class="ltx_listingline" id="lstnumberx5">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.2" style="color:#9400D1;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.4" style="color:#9400D1;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.6" style="color:#9400D1;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.8" style="color:#9400D1;">simple</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.10" style="color:#9400D1;">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.12" style="color:#9400D1;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.14" style="color:#9400D1;">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.16" style="color:#9400D1;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.17" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.18" style="color:#9400D1;">n**int=x</span>
</div>
<div class="ltx_listingline" id="lstnumberx6">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.2" style="color:#9400D1;">For</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.4" style="color:#9400D1;">example:</span>
</div>
<div class="ltx_listingline" id="lstnumberx7">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.2" style="color:#9400D1;">is_simple_power(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.4" style="color:#9400D1;">4)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx8">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.2" style="color:#9400D1;">is_simple_power(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx9">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.2" style="color:#9400D1;">is_simple_power(8,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx10">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.2" style="color:#9400D1;">is_simple_power(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx11">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.2" style="color:#9400D1;">is_simple_power(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.4" style="color:#9400D1;">1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx12">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.2" style="color:#9400D1;">is_simple_power(5,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.4" style="color:#9400D1;">3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx13">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.2" style="color:#9400D1;">"</span><span class="ltx_text ltx_lst_string" id="lstnumberx13.3"></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.4" style="color:#9400D1;">""</span>
</div>
</div>
</div>
<section class="ltx_paragraph" id="A2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">原始提示结果 <span class="ltx_text" id="A2.SS0.SSS0.Px1.1.1" style="color:#FF0000;">[失败]</span></h4>
<div class="ltx_para" id="A2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="A2.SS0.SSS0.Px1.p1.1">原始提示没有额外的说明，生成的代码未能通过所有单元测试，因为它只能解决提供的示例案例。</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing" id="A2.SS0.SSS0.Px1.p1.2">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,YGBgcHl0aG9uCmRlZiBpc19zaW1wbGVfcG93ZXIoeCwgbik6CiAgICAiIiJZb3VyIHRhc2sgaXMgdG8gd3JpdGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhIG51bWJlciB4IGlzIGEgc2ltcGxlCiAgICBwb3dlciBvZiBuIGFuZCBmYWxzZSBpbiBvdGhlciBjYXNlcy4KICAgIHggaXMgYSBzaW1wbGUgcG93ZXIgb2YgbiBpZiBuKippbnQ9eAogICAgRm9yIGV4YW1wbGU6CiAgICBpc19zaW1wbGVfcG93ZXIoMSwgNCkgPT4gdHJ1ZQogICAgaXNfc2ltcGxlX3Bvd2VyKDIsIDIpID0+IHRydWUKICAgIGlzX3NpbXBsZV9wb3dlcig4LCAyKSA9PiB0cnVlCiAgICBpc19zaW1wbGVfcG93ZXIoMywgMikgPT4gZmFsc2UKICAgIGlzX3NpbXBsZV9wb3dlcigzLCAxKSA9PiBmYWxzZQogICAgaXNfc2ltcGxlX3Bvd2VyKDUsIDMpID0+IGZhbHNlCiAgICAiIiIKICAgIGlmIG4gPT0gMToKICAgICAgICByZXR1cm4gVHJ1ZQogICAgZWxpZiB4ID09IG46CiAgICAgICAgcmV0dXJuIFRydWUKICAgIGVsaWYgeCA9PSBuKioyOgogICAgICAgIHJldHVybiBUcnVlCiAgICBlbGlmIHggPT0gbioqMzoKICAgICAgICByZXR1cm4gVHJ1ZQogICAgZWxzZToKICAgICAgICByZXR1cm4gRmFsc2UKYGBgCgpJbiB0aGlzIHNjcmlwdCwgd2UgZGVmaW5lIGEgZnVuY3Rpb24gY2FsbGVkIGBpc19zaW1wbGVfcG93ZXJgIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnMgYHhgIGFuZCBgbmAuIFdlIGNoZWNrIGEgZmV3IHBvc3NpYmxlIGNhc2VzIHRvIGRldGVybWluZSBpZiBgeGAgaXMgYSBzaW1wbGUgcG93ZXIgb2YgYG5gLiBJZiBhbnkgb2YgdGhlc2UgY2FzZXMgYXJlIHRydWUsIHdlIHJldHVybiBgVHJ1ZWAsIG90aGVyd2lzZSB3ZSByZXR1cm4gYEZhbHNlYA==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx14">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx14.1">‘‘‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx14.2">python</span>
</div>
<div class="ltx_listingline" id="lstnumberx15">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx15.1" style="color:#0000FF;">def</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.3">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.4">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.5">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.6">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx15.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.9">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx16">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.1">    </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx16.2" style="color:#9400D1;">""</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx16.3" style="color:#9400D1;">"Your<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.1"> </span>task<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.2"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.3"> </span>to<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.4"> </span>write<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.5"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.6"> </span>function<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.7"> </span>that<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.8"> </span>returns<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.9"> </span>true<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.10"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.11"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.12"> </span>number<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.13"> </span>x<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.14"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.15"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx16.3.16"> </span>simple</span>
</div>
<div class="ltx_listingline" id="lstnumberx17">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.2" style="color:#9400D1;">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.4" style="color:#9400D1;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.6" style="color:#9400D1;">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.8" style="color:#9400D1;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.10" style="color:#9400D1;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.12" style="color:#9400D1;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.14" style="color:#9400D1;">other</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.16" style="color:#9400D1;">cases.</span>
</div>
<div class="ltx_listingline" id="lstnumberx18">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.2" style="color:#9400D1;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.4" style="color:#9400D1;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.6" style="color:#9400D1;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.8" style="color:#9400D1;">simple</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.10" style="color:#9400D1;">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.12" style="color:#9400D1;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.14" style="color:#9400D1;">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.16" style="color:#9400D1;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.17" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.18" style="color:#9400D1;">n**int=x</span>
</div>
<div class="ltx_listingline" id="lstnumberx19">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.2" style="color:#9400D1;">For</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.4" style="color:#9400D1;">example:</span>
</div>
<div class="ltx_listingline" id="lstnumberx20">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.2" style="color:#9400D1;">is_simple_power(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.4" style="color:#9400D1;">4)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx21">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.2" style="color:#9400D1;">is_simple_power(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx22">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.2" style="color:#9400D1;">is_simple_power(8,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx23">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.2" style="color:#9400D1;">is_simple_power(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx24">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.2" style="color:#9400D1;">is_simple_power(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.4" style="color:#9400D1;">1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx24.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx25">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.2" style="color:#9400D1;">is_simple_power(5,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.4" style="color:#9400D1;">3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx26">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.2" style="color:#9400D1;">"</span><span class="ltx_text ltx_lst_string" id="lstnumberx26.3"></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.4" style="color:#9400D1;">""</span>
</div>
<div class="ltx_listingline" id="lstnumberx27">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx27.2" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx27.4">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.7"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.8">1:</span>
</div>
<div class="ltx_listingline" id="lstnumberx28">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx28.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.4">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx29">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx29.2" style="color:#0000FF;">elif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx29.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx29.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx29.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx29.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx29.9">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx30">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx30.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.4">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx31">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx31.2" style="color:#0000FF;">elif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx31.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx31.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx31.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx31.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx31.9">**2:</span>
</div>
<div class="ltx_listingline" id="lstnumberx32">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx32.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.4">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx33">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx33.2" style="color:#0000FF;">elif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.9">**3:</span>
</div>
<div class="ltx_listingline" id="lstnumberx34">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx34.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx34.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx34.4">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx35">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx35.2" style="color:#0000FF;">else</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.3">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx36">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx36.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx36.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx36.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx36.4">False</span>
</div>
<div class="ltx_listingline" id="lstnumberx37">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx37.1">‘‘‘</span>
</div>
<div class="ltx_listingline" id="lstnumberx38">
</div>
<div class="ltx_listingline" id="lstnumberx39">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.1">In</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.3">this</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.5">script</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.6">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.8">we</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.10">define</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.11"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.12">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.13"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.14">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.15"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.16">called</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.17"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.18">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.19">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.20">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.21"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.22">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.23"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.24">takes</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.25"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.26">two</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.27"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.28">parameters</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.29"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.30">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.31">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.32">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.33"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx39.34" style="color:#0000FF;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.35"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.36">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.37">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.38">‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.39"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.40">We</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.41"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.42">check</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.43"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.44">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.45"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.46">few</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.47"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.48">possible</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.49"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.50">cases</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.51"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.52">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.53"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.54">determine</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.55"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx39.56" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.57"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.58">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.59">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.60">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.61"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx39.62" style="color:#0000FF;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.63"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.64">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.65"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.66">simple</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.67"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.68">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.69"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.70">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.71"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.72">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.73">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.74">‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.75"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.76">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.77"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx39.78" style="color:#0000FF;">any</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.79"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.80">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.81"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.82">these</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.83"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.84">cases</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.85"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.86">are</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.87"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.88">true</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.89">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.90"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.91">we</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.92"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx39.93" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.94"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.95">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.96">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.97">‘,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.98"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.99">otherwise</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.100"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.101">we</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.102"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx39.103" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx39.104"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.105">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx39.106">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx39.107">‘</span>
</div>
</div>
</div>
</section>
<section class="ltx_paragraph" id="A2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">CoT 结果 <span class="ltx_text" id="A2.SS0.SSS0.Px2.1.1" style="color:#FF0000;">[Failed]</span></h4>
<div class="ltx_para" id="A2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="A2.SS0.SSS0.Px2.p1.1">在CoT提示设置中生成的代码包含了一个逐步解释，简单地将问题描述分解成了两个要点。最终生成的代码由于生成的模棱两可的重新解释的要点而失败，并且代码实现与问题描述之间存在较大的差距。</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing" id="A2.SS0.SSS0.Px2.p1.2">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,CgoxLiBEZWZpbmUgYSBmdW5jdGlvbiBjYWxsZWQgYGlzX3NpbXBsZV9wb3dlcmAgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVycywgYHhgIGFuZCBgbmAuCjIuIEluc2lkZSB0aGUgZnVuY3Rpb24sIGNoZWNrIGlmIGB4YCBpcyBlcXVhbCB0byBgbioqaW50KG4pYC4gSWYgaXQgaXMsIHJldHVybiBgVHJ1ZWAuIE90aGVyd2lzZSwgcmV0dXJuIGBGYWxzZWAuCgpIZXJlIGlzIHRoZSBQeXRob24gc2NyaXB0IGltcGxlbWVudGluZyB0aGUgYWJvdmUgc3RlcHM6CgpgYGBweXRob24KZGVmIGlzX3NpbXBsZV9wb3dlcih4LCBuKToKICAgIGlmIHggPT0gbioqaW50KG4pOgogICAgICAgIHJldHVybiBUcnVlCiAgICBlbHNlOgogICAgICAgIHJldHVybiBGYWxzZQpgYGAKClRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIGEgbnVtYmVyIGB4YCBpcyBhIHNpbXBsZSBwb3dlciBvZiBgbmAuIElmIGB4YCBpcyBlcXVhbCB0byBgbmAgcmFpc2VkIHRvIHRoZSBwb3dlciBvZiBgaW50KG4pYCwgaXQgcmV0dXJucyBgVHJ1ZWAuIE90aGVyd2lzZSwgaXQgcmV0dXJucyBgRmFsc2VgLg==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx40">
</div>
<div class="ltx_listingline" id="lstnumberx41">
</div>
<div class="ltx_listingline" id="lstnumberx42">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx42.1">1.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.3">Define</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.5">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.7">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.9">called</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.10"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.11">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.12">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.13">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.15">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.17">takes</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.18"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.19">two</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.21">parameters</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.22">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.23"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.24">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.25">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.26">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.27"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx42.28" style="color:#0000FF;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx42.29"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.30">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx42.31">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx42.32">‘.</span>
</div>
<div class="ltx_listingline" id="lstnumberx43">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx43.1">2.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.3">Inside</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.5">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.7">function</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.8">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.10">check</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.11"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx43.12" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.13"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.14">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.15">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.16">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.17"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx43.18" style="color:#0000FF;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.19"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.20">equal</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.21"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.22">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.23"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.24">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.25">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.26">**</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx43.27" style="color:#0000FF;">int</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.28">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.29">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.30">)‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.31"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.32">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.33"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.34">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.35"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx43.36" style="color:#0000FF;">is</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.37">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.38"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx43.39" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.40"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.41">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.42">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.43">‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.44"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.45">Otherwise</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.46">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.47"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx43.48" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx43.49"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.50">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx43.51">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx43.52">‘.</span>
</div>
<div class="ltx_listingline" id="lstnumberx44">
</div>
<div class="ltx_listingline" id="lstnumberx45">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.1">Here</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.2"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx45.3" style="color:#0000FF;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.5">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.6"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.7">Python</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.9">script</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.11">implementing</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.13">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.14"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.15">above</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx45.16"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx45.17">steps</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx45.18">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx46">
</div>
<div class="ltx_listingline" id="lstnumberx47">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx47.1">‘‘‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx47.2">python</span>
</div>
<div class="ltx_listingline" id="lstnumberx48">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx48.1" style="color:#0000FF;">def</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx48.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx48.3">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.4">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx48.5">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.6">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx48.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx48.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx48.9">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx49">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx49.2" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx49.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx49.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx49.9">**</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx49.10" style="color:#0000FF;">int</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx49.11">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx49.12">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx49.13">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx50">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx50.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx50.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx50.4">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx51">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx51.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx51.2" style="color:#0000FF;">else</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx51.3">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx52">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx52.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx52.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx52.4">False</span>
</div>
<div class="ltx_listingline" id="lstnumberx53">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx53.1">‘‘‘</span>
</div>
<div class="ltx_listingline" id="lstnumberx54">
</div>
<div class="ltx_listingline" id="lstnumberx55">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.1">This</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.3">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.4"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.5">checks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.6"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx55.7" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.8"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.9">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.11">number</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.12"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.13">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.14">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.15">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.16"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx55.17" style="color:#0000FF;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.18"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.19">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.20"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.21">simple</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.22"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.23">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.24"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.25">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.26"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.27">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.28">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.29">‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.30"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.31">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.32"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.33">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.34">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.35">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.36"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx55.37" style="color:#0000FF;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.38"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.39">equal</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.40"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.41">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.42"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.43">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.44">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.45">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.46"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.47">raised</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.48"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.49">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.50"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.51">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.52"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.53">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.54"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.55">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.56"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.57">‘</span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx55.58" style="color:#0000FF;">int</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.59">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.60">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.61">)‘,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.62"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.63">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.64"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.65">returns</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.66"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.67">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.68">True</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.69">‘.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.70"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.71">Otherwise</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.72">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.73"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.74">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.75"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.76">returns</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx55.77"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.78">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx55.79">False</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx55.80">‘.</span>
</div>
</div>
</div>
</section>
<section class="ltx_paragraph" id="A2.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">LCP 结果 <span class="ltx_text" id="A2.SS0.SSS0.Px3.1.1" style="color:#00FF00;">[Passed]</span></h4>
<div class="ltx_para" id="A2.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="A2.SS0.SSS0.Px3.p1.1">在LCP提示设置中生成的代码包含清晰的注释来解释代码逻辑，并且所有单元测试都成功通过。</p>
<div class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing" id="A2.SS0.SSS0.Px3.p1.2">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,YGBgcHl0aG9uCmRlZiBpc19zaW1wbGVfcG93ZXIoeCwgbik6CiAgICAiIiIKICAgIFlvdXIgdGFzayBpcyB0byB3cml0ZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGEgbnVtYmVyIHggaXMgYSBzaW1wbGUKICAgIHBvd2VyIG9mIG4gYW5kIGZhbHNlIGluIG90aGVyIGNhc2VzLgogICAgeCBpcyBhIHNpbXBsZSBwb3dlciBvZiBuIGlmIG4qKmludD14CiAgICBGb3IgZXhhbXBsZToKICAgIGlzX3NpbXBsZV9wb3dlcigxLCA0KSA9PiB0cnVlCiAgICBpc19zaW1wbGVfcG93ZXIoMiwgMikgPT4gdHJ1ZQogICAgaXNfc2ltcGxlX3Bvd2VyKDgsIDIpID0+IHRydWUKICAgIGlzX3NpbXBsZV9wb3dlcigzLCAyKSA9PiBmYWxzZQogICAgaXNfc2ltcGxlX3Bvd2VyKDMsIDEpID0+IGZhbHNlCiAgICBpc19zaW1wbGVfcG93ZXIoNSwgMykgPT4gZmFsc2UKICAgICIiIgoKICAgICMgQ2hlY2sgaWYgeCBpcyBhIHBlcmZlY3QgcG93ZXIgb2YgbgogICAgaWYgbiA9PSAxOgogICAgICAgIHJldHVybiB4ID09IDEKCiAgICAjIENoZWNrIGlmIHggaXMgYSBzaW1wbGUgcG93ZXIgb2YgbgogICAgaWYgeCAlIG4gPT0gMDoKICAgICAgICByZXR1cm4gaXNfc2ltcGxlX3Bvd2VyKHggLy8gbiwgbikKCiAgICAjIENoZWNrIGlmIHggaXMgYSBwZXJmZWN0IHBvd2VyIG9mIG4KICAgIGZvciBpIGluIHJhbmdlKDIsIHgpOgogICAgICAgIGlmIHggPT0gbiAqKiBpOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICMgSWYgeCBkb2VzIG5vdCBzYXRpc2Z5IGFueSBvZiB0aGUgYWJvdmUgY29uZGl0aW9ucywgaXQgaXMgbm90IGEgc2ltcGxlIHBvd2VyIG9mIG4KICAgIHJldHVybiBGYWxzZQpgYGAKCk5vdywgeW91IGNhbiBjYWxsIHRoZSBmdW5jdGlvbiBgaXNfc2ltcGxlX3Bvd2VyYCB3aXRoIHRoZSBkZXNpcmVkIGlucHV0cyB0byBjaGVjayBpZiBhIG51bWJlciBpcyBhIHNpbXBsZSBwb3dlciBvZiBhIGdpdmVuIGJhc2UuCn0=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx56">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx56.1">‘‘‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx56.2">python</span>
</div>
<div class="ltx_listingline" id="lstnumberx57">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx57.1" style="color:#0000FF;">def</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx57.2"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx57.3">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx57.4">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx57.5">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx57.6">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx57.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx57.8">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx57.9">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx58">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx58.1">    </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx58.2" style="color:#9400D1;">""</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx58.3" style="color:#9400D1;">"</span>
</div>
<div class="ltx_listingline" id="lstnumberx59">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.2" style="color:#9400D1;">Your</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.4" style="color:#9400D1;">task</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.6" style="color:#9400D1;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.8" style="color:#9400D1;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.10" style="color:#9400D1;">write</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.12" style="color:#9400D1;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.14" style="color:#9400D1;">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.16" style="color:#9400D1;">that</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.17" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.18" style="color:#9400D1;">returns</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.19" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.20" style="color:#9400D1;">true</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.21" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.22" style="color:#9400D1;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.23" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.24" style="color:#9400D1;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.25" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.26" style="color:#9400D1;">number</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.27" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.28" style="color:#9400D1;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.29" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.30" style="color:#9400D1;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.31" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.32" style="color:#9400D1;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx59.33" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx59.34" style="color:#9400D1;">simple</span>
</div>
<div class="ltx_listingline" id="lstnumberx60">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.2" style="color:#9400D1;">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.4" style="color:#9400D1;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.6" style="color:#9400D1;">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.8" style="color:#9400D1;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.10" style="color:#9400D1;">false</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.12" style="color:#9400D1;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.14" style="color:#9400D1;">other</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx60.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx60.16" style="color:#9400D1;">cases.</span>
</div>
<div class="ltx_listingline" id="lstnumberx61">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.2" style="color:#9400D1;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.4" style="color:#9400D1;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.6" style="color:#9400D1;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.8" style="color:#9400D1;">simple</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.9" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.10" style="color:#9400D1;">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.11" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.12" style="color:#9400D1;">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.13" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.14" style="color:#9400D1;">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.15" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.16" style="color:#9400D1;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx61.17" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx61.18" style="color:#9400D1;">n**int=x</span>
</div>
<div class="ltx_listingline" id="lstnumberx62">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx62.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx62.2" style="color:#9400D1;">For</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx62.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx62.4" style="color:#9400D1;">example:</span>
</div>
<div class="ltx_listingline" id="lstnumberx63">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.2" style="color:#9400D1;">is_simple_power(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.4" style="color:#9400D1;">4)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx63.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx63.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx64">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.2" style="color:#9400D1;">is_simple_power(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx64.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx64.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx65">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx65.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx65.2" style="color:#9400D1;">is_simple_power(8,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx65.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx65.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx65.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx65.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx65.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx65.8" style="color:#9400D1;">true</span>
</div>
<div class="ltx_listingline" id="lstnumberx66">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx66.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx66.2" style="color:#9400D1;">is_simple_power(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx66.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx66.4" style="color:#9400D1;">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx66.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx66.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx66.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx66.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx67">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx67.2" style="color:#9400D1;">is_simple_power(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx67.4" style="color:#9400D1;">1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx67.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx67.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx67.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx68">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx68.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.2" style="color:#9400D1;">is_simple_power(5,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx68.3" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.4" style="color:#9400D1;">3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx68.5" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.6" style="color:#9400D1;">=&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx68.7" style="color:#9400D1;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx68.8" style="color:#9400D1;">false</span>
</div>
<div class="ltx_listingline" id="lstnumberx69">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx69.1" style="color:#9400D1;">    </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx69.2" style="color:#9400D1;">"</span><span class="ltx_text ltx_lst_string" id="lstnumberx69.3"></span><span class="ltx_text ltx_font_typewriter" id="lstnumberx69.4" style="color:#9400D1;">""</span>
</div>
<div class="ltx_listingline" id="lstnumberx70">
</div>
<div class="ltx_listingline" id="lstnumberx71">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx71.1">    </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx71.2" style="color:#009900;">#<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.1"> </span>Check<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.2"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.3"> </span>x<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.4"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.5"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.6"> </span>perfect<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.7"> </span>power<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.8"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx71.2.9"> </span>n</span>
</div>
<div class="ltx_listingline" id="lstnumberx72">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx72.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx72.2" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx72.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx72.4">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx72.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx72.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx72.7"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx72.8">1:</span>
</div>
<div class="ltx_listingline" id="lstnumberx73">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx73.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx73.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx73.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx73.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx73.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx73.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx73.7"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx73.8">1</span>
</div>
<div class="ltx_listingline" id="lstnumberx74">
</div>
<div class="ltx_listingline" id="lstnumberx75">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx75.1">    </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx75.2" style="color:#009900;">#<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.1"> </span>Check<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.2"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.3"> </span>x<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.4"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.5"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.6"> </span>simple<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.7"> </span>power<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.8"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx75.2.9"> </span>n</span>
</div>
<div class="ltx_listingline" id="lstnumberx76">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx76.2" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx76.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.6">%</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx76.8">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.9"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.10">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx76.11"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx76.12">0:</span>
</div>
<div class="ltx_listingline" id="lstnumberx77">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx77.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx77.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx77.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx77.4">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx77.5">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx77.6">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx77.7"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx77.8">//</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx77.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx77.10">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx77.11">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx77.12"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx77.13">n</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx77.14">)</span>
</div>
<div class="ltx_listingline" id="lstnumberx78">
</div>
<div class="ltx_listingline" id="lstnumberx79">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx79.1">    </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx79.2" style="color:#009900;">#<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.1"> </span>Check<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.2"> </span>if<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.3"> </span>x<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.4"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.5"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.6"> </span>perfect<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.7"> </span>power<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.8"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx79.2.9"> </span>n</span>
</div>
<div class="ltx_listingline" id="lstnumberx80">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx80.2" style="color:#0000FF;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx80.4">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.5"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx80.6" style="color:#0000FF;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.7"> </span><span class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter" id="lstnumberx80.8" style="color:#0000FF;">range</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx80.9">(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx80.10"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx80.11">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx80.12">):</span>
</div>
<div class="ltx_listingline" id="lstnumberx81">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.1">        </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx81.2" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx81.4">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.5"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx81.6">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx81.8">n</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.9"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx81.10">**</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx81.11"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx81.12">i</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx81.13">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx82">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx82.1">            </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx82.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx82.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx82.4">True</span>
</div>
<div class="ltx_listingline" id="lstnumberx83">
</div>
<div class="ltx_listingline" id="lstnumberx84">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx84.1">    </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx84.2" style="color:#009900;">#<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.1"> </span>If<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.2"> </span>x<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.3"> </span>does<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.4"> </span>not<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.5"> </span>satisfy<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.6"> </span>any<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.7"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.8"> </span>the<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.9"> </span>above<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.10"> </span>conditions,<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.11"> </span>it<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.12"> </span>is<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.13"> </span>not<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.14"> </span>a<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.15"> </span>simple<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.16"> </span>power<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.17"> </span>of<span class="ltx_text ltx_lst_space" id="lstnumberx84.2.18"> </span>n</span>
</div>
<div class="ltx_listingline" id="lstnumberx85">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx85.1">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx85.2" style="color:#0000FF;">return</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx85.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx85.4">False</span>
</div>
<div class="ltx_listingline" id="lstnumberx86">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx86.1">‘‘‘</span>
</div>
<div class="ltx_listingline" id="lstnumberx87">
</div>
<div class="ltx_listingline" id="lstnumberx88">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.1">Now</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx88.2">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.3"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.4">you</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.5"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.6">can</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.7"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.8">call</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.9"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.10">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.11"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.12">function</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.13"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx88.14">‘</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.15">is_simple_power</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx88.16">‘</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.17"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.18">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.19"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.20">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.21"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.22">desired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.23"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.24">inputs</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.25"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.26">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.27"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.28">check</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.29"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx88.30" style="color:#0000FF;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.31"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.32">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.33"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.34">number</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.35"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" id="lstnumberx88.36" style="color:#0000FF;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.37"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.38">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.39"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.40">simple</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.41"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.42">power</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.43"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.44">of</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.45"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.46">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.47"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.48">given</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx88.49"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx88.50">base</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx88.51">.</span>
</div>
<div class="ltx_listingline" id="lstnumberx89">
<span class="ltx_text ltx_font_typewriter" id="lstnumberx89.1">}</span>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
</section>
</section>
</section>
</section>
</figure>
</section>
</section>
</article>
</div>
</div>
</body>
</html>
